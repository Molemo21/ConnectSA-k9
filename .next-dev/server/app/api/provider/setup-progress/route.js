"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/provider/setup-progress/route";
exports.ids = ["app/api/provider/setup-progress/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.2.32_@babel+core@7._f37a6f559989085e15f473fa19285327/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprovider%2Fsetup-progress%2Froute&page=%2Fapi%2Fprovider%2Fsetup-progress%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprovider%2Fsetup-progress%2Froute.ts&appDir=C%3A%5CUsers%5Cliqui%5COneDrive%5CDesktop%5CLeenk%5CConnectSA-k9%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cliqui%5COneDrive%5CDesktop%5CLeenk%5CConnectSA-k9&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.32_@babel+core@7._f37a6f559989085e15f473fa19285327/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprovider%2Fsetup-progress%2Froute&page=%2Fapi%2Fprovider%2Fsetup-progress%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprovider%2Fsetup-progress%2Froute.ts&appDir=C%3A%5CUsers%5Cliqui%5COneDrive%5CDesktop%5CLeenk%5CConnectSA-k9%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cliqui%5COneDrive%5CDesktop%5CLeenk%5CConnectSA-k9&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.2.32_@babel+core@7._f37a6f559989085e15f473fa19285327/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.2.32_@babel+core@7._f37a6f559989085e15f473fa19285327/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.2.32_@babel+core@7._f37a6f559989085e15f473fa19285327/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_liqui_OneDrive_Desktop_Leenk_ConnectSA_k9_app_api_provider_setup_progress_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/provider/setup-progress/route.ts */ \"(rsc)/./app/api/provider/setup-progress/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/provider/setup-progress/route\",\n        pathname: \"/api/provider/setup-progress\",\n        filename: \"route\",\n        bundlePath: \"app/api/provider/setup-progress/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\liqui\\\\OneDrive\\\\Desktop\\\\Leenk\\\\ConnectSA-k9\\\\app\\\\api\\\\provider\\\\setup-progress\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_liqui_OneDrive_Desktop_Leenk_ConnectSA_k9_app_api_provider_setup_progress_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/provider/setup-progress/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjMyX0BiYWJlbCtjb3JlQDcuX2YzN2E2ZjU1OTk4OTA4NWUxNWY0NzNmYTE5Mjg1MzI3L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtYXBwLWxvYWRlci5qcz9uYW1lPWFwcCUyRmFwaSUyRnByb3ZpZGVyJTJGc2V0dXAtcHJvZ3Jlc3MlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnByb3ZpZGVyJTJGc2V0dXAtcHJvZ3Jlc3MlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm92aWRlciUyRnNldHVwLXByb2dyZXNzJTJGcm91dGUudHMmYXBwRGlyPUMlM0ElNUNVc2VycyU1Q2xpcXVpJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDTGVlbmslNUNDb25uZWN0U0EtazklNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q2xpcXVpJTVDT25lRHJpdmUlNUNEZXNrdG9wJTVDTGVlbmslNUNDb25uZWN0U0EtazkmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3NEO0FBQ25JO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8/M2VjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxsaXF1aVxcXFxPbmVEcml2ZVxcXFxEZXNrdG9wXFxcXExlZW5rXFxcXENvbm5lY3RTQS1rOVxcXFxhcHBcXFxcYXBpXFxcXHByb3ZpZGVyXFxcXHNldHVwLXByb2dyZXNzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9wcm92aWRlci9zZXR1cC1wcm9ncmVzcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb3ZpZGVyL3NldHVwLXByb2dyZXNzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9wcm92aWRlci9zZXR1cC1wcm9ncmVzcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGxpcXVpXFxcXE9uZURyaXZlXFxcXERlc2t0b3BcXFxcTGVlbmtcXFxcQ29ubmVjdFNBLWs5XFxcXGFwcFxcXFxhcGlcXFxccHJvdmlkZXJcXFxcc2V0dXAtcHJvZ3Jlc3NcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Byb3ZpZGVyL3NldHVwLXByb2dyZXNzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.2.32_@babel+core@7._f37a6f559989085e15f473fa19285327/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprovider%2Fsetup-progress%2Froute&page=%2Fapi%2Fprovider%2Fsetup-progress%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprovider%2Fsetup-progress%2Froute.ts&appDir=C%3A%5CUsers%5Cliqui%5COneDrive%5CDesktop%5CLeenk%5CConnectSA-k9%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cliqui%5COneDrive%5CDesktop%5CLeenk%5CConnectSA-k9&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/provider/setup-progress/route.ts":
/*!**************************************************!*\
  !*** ./app/api/provider/setup-progress/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@14.2.32_@babel+core@7._f37a6f559989085e15f473fa19285327/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_notification_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/notification-service */ \"(rsc)/./lib/notification-service.ts\");\n\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_2__.PrismaClient();\n/**\n * GET /api/provider/setup-progress\n * Get the current setup progress for a provider\n */ async function GET(request) {\n    try {\n        console.log(\"\\uD83D\\uDCCA Getting provider setup progress...\");\n        const user = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.getCurrentUser)();\n        if (!user || user.role !== \"PROVIDER\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        // Get provider with catalogue items\n        const provider = await prisma.provider.findUnique({\n            where: {\n                userId: user.id\n            },\n            include: {\n                catalogueItems: {\n                    where: {\n                        isActive: true\n                    },\n                    include: {\n                        service: {\n                            select: {\n                                name: true\n                            }\n                        }\n                    }\n                },\n                services: {\n                    include: {\n                        service: {\n                            select: {\n                                name: true\n                            }\n                        }\n                    }\n                }\n            }\n        });\n        if (!provider) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Provider not found\"\n            }, {\n                status: 404\n            });\n        }\n        const totalPackages = provider.catalogueItems.length;\n        // Calculate customized packages (packages that have been modified from defaults)\n        const customizedPackages = provider.catalogueItems.filter((item)=>{\n            // Consider a package customized if:\n            // 1. Title doesn't contain \"Essential\", \"Professional\", or \"Premium\" (default pattern)\n            // 2. Short description is longer than 50 characters\n            // 3. Price has been modified from standard tiers\n            const isDefaultTitle = /^(Essential|Professional|Premium)\\s/.test(item.title);\n            const isCustomizedDesc = item.shortDesc.length > 50;\n            const isCustomizedPrice = !isStandardPrice(item.price);\n            return !isDefaultTitle || isCustomizedDesc || isCustomizedPrice;\n        }).length;\n        const completionPercentage = totalPackages > 0 ? Math.round(customizedPackages / totalPackages * 100) : 0;\n        const isCompleted = completionPercentage >= 100;\n        // Generate next steps\n        const nextSteps = generateNextSteps(provider, customizedPackages, totalPackages);\n        // Estimate time remaining (5 minutes per uncustomized package)\n        const estimatedTimeRemaining = (totalPackages - customizedPackages) * 5;\n        const progress = {\n            totalPackages,\n            customizedPackages,\n            completionPercentage,\n            isCompleted,\n            nextSteps,\n            estimatedTimeRemaining\n        };\n        console.log(`üìä Progress calculated: ${completionPercentage}% complete (${customizedPackages}/${totalPackages})`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(progress);\n    } catch (error) {\n        console.error(\"‚ùå Error getting setup progress:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to get setup progress\"\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * POST /api/provider/setup-progress\n * Mark setup as completed\n */ async function POST(request) {\n    try {\n        console.log(\"‚úÖ Marking provider setup as completed...\");\n        const user = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.getCurrentUser)();\n        if (!user || user.role !== \"PROVIDER\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const { completed } = body;\n        if (completed) {\n            // Update provider to mark setup as completed\n            const updatedProvider = await prisma.provider.update({\n                where: {\n                    userId: user.id\n                },\n                data: {\n                    catalogueSetupCompleted: true,\n                    catalogueSetupCompletedAt: new Date()\n                }\n            });\n            // Send completion notification\n            const completionTime = calculateCompletionTime(updatedProvider.createdAt, updatedProvider.catalogueSetupCompletedAt);\n            await (0,_lib_notification_service__WEBPACK_IMPORTED_MODULE_3__.createNotification)({\n                userId: user.id,\n                type: \"CATALOGUE_SETUP_COMPLETED\",\n                title: \"\\uD83C\\uDF89 Setup Complete - You're Ready to Earn!\",\n                content: `Congratulations! You completed your service packages setup in ${completionTime}. You're now live and ready to receive bookings!`\n            });\n            console.log(`‚úÖ Provider ${user.id} setup marked as completed`);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                message: \"Setup marked as completed\",\n                completionTime\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Invalid request\"\n        }, {\n            status: 400\n        });\n    } catch (error) {\n        console.error(\"‚ùå Error marking setup as completed:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to mark setup as completed\"\n        }, {\n            status: 500\n        });\n    }\n}\n/**\n * Helper function to check if price is standard tier pricing\n */ function isStandardPrice(price) {\n    // Standard tier prices are typically multiples of common base prices\n    const standardPrices = [\n        150,\n        180,\n        200,\n        225,\n        250,\n        280,\n        300,\n        320,\n        350,\n        400\n    ];\n    return standardPrices.includes(price);\n}\n/**\n * Generate next steps based on current progress\n */ function generateNextSteps(provider, customizedPackages, totalPackages) {\n    const nextSteps = [];\n    if (customizedPackages === 0) {\n        nextSteps.push(\"Start customizing your service packages\");\n        nextSteps.push(\"Add personalized descriptions to your packages\");\n        nextSteps.push(\"Set competitive pricing for your services\");\n    } else if (customizedPackages < totalPackages) {\n        const remaining = totalPackages - customizedPackages;\n        nextSteps.push(`Customize ${remaining} remaining package${remaining > 1 ? \"s\" : \"\"}`);\n        nextSteps.push(\"Review and adjust pricing for consistency\");\n    } else {\n        nextSteps.push(\"Review all packages for accuracy\");\n        nextSteps.push(\"Set your availability schedule\");\n        nextSteps.push(\"Start promoting your services\");\n    }\n    return nextSteps;\n}\n/**\n * Calculate completion time in a human-readable format\n */ function calculateCompletionTime(startTime, endTime) {\n    const diffMs = endTime.getTime() - startTime.getTime();\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    const diffMinutes = Math.floor(diffMs % (1000 * 60 * 60) / (1000 * 60));\n    if (diffHours > 0) {\n        return `${diffHours}h ${diffMinutes}m`;\n    } else {\n        return `${diffMinutes} minutes`;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3Byb3ZpZGVyL3NldHVwLXByb2dyZXNzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0Q7QUFDWjtBQUNFO0FBQ3lDO0FBRXZGLE1BQU1JLFNBQVMsSUFBSUYsd0RBQVlBO0FBVy9COzs7Q0FHQyxHQUNNLGVBQWVHLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRkMsUUFBUUMsR0FBRyxDQUFDO1FBRVosTUFBTUMsT0FBTyxNQUFNUix5REFBY0E7UUFDakMsSUFBSSxDQUFDUSxRQUFRQSxLQUFLQyxJQUFJLEtBQUssWUFBWTtZQUNyQyxPQUFPVixxREFBWUEsQ0FBQ1csSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWUsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3BFO1FBRUEsb0NBQW9DO1FBQ3BDLE1BQU1DLFdBQVcsTUFBTVYsT0FBT1UsUUFBUSxDQUFDQyxVQUFVLENBQUM7WUFDaERDLE9BQU87Z0JBQUVDLFFBQVFSLEtBQUtTLEVBQUU7WUFBQztZQUN6QkMsU0FBUztnQkFDUEMsZ0JBQWdCO29CQUNkSixPQUFPO3dCQUFFSyxVQUFVO29CQUFLO29CQUN4QkYsU0FBUzt3QkFDUEcsU0FBUzs0QkFDUEMsUUFBUTtnQ0FBRUMsTUFBTTs0QkFBSzt3QkFDdkI7b0JBQ0Y7Z0JBQ0Y7Z0JBQ0FDLFVBQVU7b0JBQ1JOLFNBQVM7d0JBQ1BHLFNBQVM7NEJBQ1BDLFFBQVE7Z0NBQUVDLE1BQU07NEJBQUs7d0JBQ3ZCO29CQUNGO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBLElBQUksQ0FBQ1YsVUFBVTtZQUNiLE9BQU9kLHFEQUFZQSxDQUFDVyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBcUIsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQzFFO1FBRUEsTUFBTWEsZ0JBQWdCWixTQUFTTSxjQUFjLENBQUNPLE1BQU07UUFFcEQsaUZBQWlGO1FBQ2pGLE1BQU1DLHFCQUFxQmQsU0FBU00sY0FBYyxDQUFDUyxNQUFNLENBQUNDLENB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LEVBQUVBLFVBQVUsRUFBRSxFQUFFRSxZQUFZLENBQUMsQ0FBQztJQUN4QyxPQUFPO1FBQ0wsT0FBTyxDQUFDLEVBQUVBLFlBQVksUUFBUSxDQUFDO0lBQ2pDO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vYXBwL2FwaS9wcm92aWRlci9zZXR1cC1wcm9ncmVzcy9yb3V0ZS50cz82Mjc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBnZXRDdXJyZW50VXNlciB9IGZyb20gJ0AvbGliL2F1dGgnO1xuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuaW1wb3J0IHsgY3JlYXRlTm90aWZpY2F0aW9uLCBOb3RpZmljYXRpb25UZW1wbGF0ZXMgfSBmcm9tICdAL2xpYi9ub3RpZmljYXRpb24tc2VydmljZSc7XG5cbmNvbnN0IHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcblxuZXhwb3J0IGludGVyZmFjZSBTZXR1cFByb2dyZXNzIHtcbiAgdG90YWxQYWNrYWdlczogbnVtYmVyO1xuICBjdXN0b21pemVkUGFja2FnZXM6IG51bWJlcjtcbiAgY29tcGxldGlvblBlcmNlbnRhZ2U6IG51bWJlcjtcbiAgaXNDb21wbGV0ZWQ6IGJvb2xlYW47XG4gIG5leHRTdGVwczogc3RyaW5nW107XG4gIGVzdGltYXRlZFRpbWVSZW1haW5pbmc6IG51bWJlcjsgLy8gaW4gbWludXRlc1xufVxuXG4vKipcbiAqIEdFVCAvYXBpL3Byb3ZpZGVyL3NldHVwLXByb2dyZXNzXG4gKiBHZXQgdGhlIGN1cnJlbnQgc2V0dXAgcHJvZ3Jlc3MgZm9yIGEgcHJvdmlkZXJcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCfwn5OKIEdldHRpbmcgcHJvdmlkZXIgc2V0dXAgcHJvZ3Jlc3MuLi4nKTtcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcigpO1xuICAgIGlmICghdXNlciB8fCB1c2VyLnJvbGUgIT09ICdQUk9WSURFUicpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xuICAgIH1cblxuICAgIC8vIEdldCBwcm92aWRlciB3aXRoIGNhdGFsb2d1ZSBpdGVtc1xuICAgIGNvbnN0IHByb3ZpZGVyID0gYXdhaXQgcHJpc21hLnByb3ZpZGVyLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgdXNlcklkOiB1c2VyLmlkIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGNhdGFsb2d1ZUl0ZW1zOiB7XG4gICAgICAgICAgd2hlcmU6IHsgaXNBY3RpdmU6IHRydWUgfSxcbiAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICBzZXJ2aWNlOiB7XG4gICAgICAgICAgICAgIHNlbGVjdDogeyBuYW1lOiB0cnVlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlcnZpY2VzOiB7XG4gICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgc2VydmljZToge1xuICAgICAgICAgICAgICBzZWxlY3Q6IHsgbmFtZTogdHJ1ZSB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1Byb3ZpZGVyIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB0b3RhbFBhY2thZ2VzID0gcHJvdmlkZXIuY2F0YWxvZ3VlSXRlbXMubGVuZ3RoO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBjdXN0b21pemVkIHBhY2thZ2VzIChwYWNrYWdlcyB0aGF0IGhhdmUgYmVlbiBtb2RpZmllZCBmcm9tIGRlZmF1bHRzKVxuICAgIGNvbnN0IGN1c3RvbWl6ZWRQYWNrYWdlcyA9IHByb3ZpZGVyLmNhdGFsb2d1ZUl0ZW1zLmZpbHRlcihpdGVtID0+IHtcbiAgICAgIC8vIENvbnNpZGVyIGEgcGFja2FnZSBjdXN0b21pemVkIGlmOlxuICAgICAgLy8gMS4gVGl0bGUgZG9lc24ndCBjb250YWluIFwiRXNzZW50aWFsXCIsIFwiUHJvZmVzc2lvbmFsXCIsIG9yIFwiUHJlbWl1bVwiIChkZWZhdWx0IHBhdHRlcm4pXG4gICAgICAvLyAyLiBTaG9ydCBkZXNjcmlwdGlvbiBpcyBsb25nZXIgdGhhbiA1MCBjaGFyYWN0ZXJzXG4gICAgICAvLyAzLiBQcmljZSBoYXMgYmVlbiBtb2RpZmllZCBmcm9tIHN0YW5kYXJkIHRpZXJzXG4gICAgICBjb25zdCBpc0RlZmF1bHRUaXRsZSA9IC9eKEVzc2VudGlhbHxQcm9mZXNzaW9uYWx8UHJlbWl1bSlcXHMvLnRlc3QoaXRlbS50aXRsZSk7XG4gICAgICBjb25zdCBpc0N1c3RvbWl6ZWREZXNjID0gaXRlbS5zaG9ydERlc2MubGVuZ3RoID4gNTA7XG4gICAgICBjb25zdCBpc0N1c3RvbWl6ZWRQcmljZSA9ICFpc1N0YW5kYXJkUHJpY2UoaXRlbS5wcmljZSk7XG4gICAgICBcbiAgICAgIHJldHVybiAhaXNEZWZhdWx0VGl0bGUgfHwgaXNDdXN0b21pemVkRGVzYyB8fCBpc0N1c3RvbWl6ZWRQcmljZTtcbiAgICB9KS5sZW5ndGg7XG5cbiAgICBjb25zdCBjb21wbGV0aW9uUGVyY2VudGFnZSA9IHRvdGFsUGFja2FnZXMgPiAwIFxuICAgICAgPyBNYXRoLnJvdW5kKChjdXN0b21pemVkUGFja2FnZXMgLyB0b3RhbFBhY2thZ2VzKSAqIDEwMClcbiAgICAgIDogMDtcblxuICAgIGNvbnN0IGlzQ29tcGxldGVkID0gY29tcGxldGlvblBlcmNlbnRhZ2UgPj0gMTAwO1xuXG4gICAgLy8gR2VuZXJhdGUgbmV4dCBzdGVwc1xuICAgIGNvbnN0IG5leHRTdGVwcyA9IGdlbmVyYXRlTmV4dFN0ZXBzKHByb3ZpZGVyLCBjdXN0b21pemVkUGFja2FnZXMsIHRvdGFsUGFja2FnZXMpO1xuXG4gICAgLy8gRXN0aW1hdGUgdGltZSByZW1haW5pbmcgKDUgbWludXRlcyBwZXIgdW5jdXN0b21pemVkIHBhY2thZ2UpXG4gICAgY29uc3QgZXN0aW1hdGVkVGltZVJlbWFpbmluZyA9ICh0b3RhbFBhY2thZ2VzIC0gY3VzdG9taXplZFBhY2thZ2VzKSAqIDU7XG5cbiAgICBjb25zdCBwcm9ncmVzczogU2V0dXBQcm9ncmVzcyA9IHtcbiAgICAgIHRvdGFsUGFja2FnZXMsXG4gICAgICBjdXN0b21pemVkUGFja2FnZXMsXG4gICAgICBjb21wbGV0aW9uUGVyY2VudGFnZSxcbiAgICAgIGlzQ29tcGxldGVkLFxuICAgICAgbmV4dFN0ZXBzLFxuICAgICAgZXN0aW1hdGVkVGltZVJlbWFpbmluZ1xuICAgIH07XG5cbiAgICBjb25zb2xlLmxvZyhg8J+TiiBQcm9ncmVzcyBjYWxjdWxhdGVkOiAke2NvbXBsZXRpb25QZXJjZW50YWdlfSUgY29tcGxldGUgKCR7Y3VzdG9taXplZFBhY2thZ2VzfS8ke3RvdGFsUGFja2FnZXN9KWApO1xuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHByb2dyZXNzKTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBnZXR0aW5nIHNldHVwIHByb2dyZXNzOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGdldCBzZXR1cCBwcm9ncmVzcycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBQT1NUIC9hcGkvcHJvdmlkZXIvc2V0dXAtcHJvZ3Jlc3NcbiAqIE1hcmsgc2V0dXAgYXMgY29tcGxldGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ+KchSBNYXJraW5nIHByb3ZpZGVyIHNldHVwIGFzIGNvbXBsZXRlZC4uLicpO1xuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGdldEN1cnJlbnRVc2VyKCk7XG4gICAgaWYgKCF1c2VyIHx8IHVzZXIucm9sZSAhPT0gJ1BST1ZJREVSJykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHsgY29tcGxldGVkIH0gPSBib2R5O1xuXG4gICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgLy8gVXBkYXRlIHByb3ZpZGVyIHRvIG1hcmsgc2V0dXAgYXMgY29tcGxldGVkXG4gICAgICBjb25zdCB1cGRhdGVkUHJvdmlkZXIgPSBhd2FpdCBwcmlzbWEucHJvdmlkZXIudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgdXNlcklkOiB1c2VyLmlkIH0sXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBjYXRhbG9ndWVTZXR1cENvbXBsZXRlZDogdHJ1ZSxcbiAgICAgICAgICBjYXRhbG9ndWVTZXR1cENvbXBsZXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZW5kIGNvbXBsZXRpb24gbm90aWZpY2F0aW9uXG4gICAgICBjb25zdCBjb21wbGV0aW9uVGltZSA9IGNhbGN1bGF0ZUNvbXBsZXRpb25UaW1lKHVwZGF0ZWRQcm92aWRlci5jcmVhdGVkQXQsIHVwZGF0ZWRQcm92aWRlci5jYXRhbG9ndWVTZXR1cENvbXBsZXRlZEF0ISk7XG4gICAgICBcbiAgICAgIGF3YWl0IGNyZWF0ZU5vdGlmaWNhdGlvbih7XG4gICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgdHlwZTogJ0NBVEFMT0dVRV9TRVRVUF9DT01QTEVURUQnLFxuICAgICAgICB0aXRsZTogJ/CfjokgU2V0dXAgQ29tcGxldGUgLSBZb3VcXCdyZSBSZWFkeSB0byBFYXJuIScsXG4gICAgICAgIGNvbnRlbnQ6IGBDb25ncmF0dWxhdGlvbnMhIFlvdSBjb21wbGV0ZWQgeW91ciBzZXJ2aWNlIHBhY2thZ2VzIHNldHVwIGluICR7Y29tcGxldGlvblRpbWV9LiBZb3UncmUgbm93IGxpdmUgYW5kIHJlYWR5IHRvIHJlY2VpdmUgYm9va2luZ3MhYFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUHJvdmlkZXIgJHt1c2VyLmlkfSBzZXR1cCBtYXJrZWQgYXMgY29tcGxldGVkYCk7XG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIG1lc3NhZ2U6ICdTZXR1cCBtYXJrZWQgYXMgY29tcGxldGVkJyxcbiAgICAgICAgY29tcGxldGlvblRpbWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW52YWxpZCByZXF1ZXN0JyB9LCB7IHN0YXR1czogNDAwIH0pO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIG1hcmtpbmcgc2V0dXAgYXMgY29tcGxldGVkOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIG1hcmsgc2V0dXAgYXMgY29tcGxldGVkJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiBwcmljZSBpcyBzdGFuZGFyZCB0aWVyIHByaWNpbmdcbiAqL1xuZnVuY3Rpb24gaXNTdGFuZGFyZFByaWNlKHByaWNlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgLy8gU3RhbmRhcmQgdGllciBwcmljZXMgYXJlIHR5cGljYWxseSBtdWx0aXBsZXMgb2YgY29tbW9uIGJhc2UgcHJpY2VzXG4gIGNvbnN0IHN0YW5kYXJkUHJpY2VzID0gWzE1MCwgMTgwLCAyMDAsIDIyNSwgMjUwLCAyODAsIDMwMCwgMzIwLCAzNTAsIDQwMF07XG4gIHJldHVybiBzdGFuZGFyZFByaWNlcy5pbmNsdWRlcyhwcmljZSk7XG59XG5cbi8qKlxuICogR2VuZXJhdGUgbmV4dCBzdGVwcyBiYXNlZCBvbiBjdXJyZW50IHByb2dyZXNzXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlTmV4dFN0ZXBzKHByb3ZpZGVyOiBhbnksIGN1c3RvbWl6ZWRQYWNrYWdlczogbnVtYmVyLCB0b3RhbFBhY2thZ2VzOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IG5leHRTdGVwczogc3RyaW5nW10gPSBbXTtcblxuICBpZiAoY3VzdG9taXplZFBhY2thZ2VzID09PSAwKSB7XG4gICAgbmV4dFN0ZXBzLnB1c2goJ1N0YXJ0IGN1c3RvbWl6aW5nIHlvdXIgc2VydmljZSBwYWNrYWdlcycpO1xuICAgIG5leHRTdGVwcy5wdXNoKCdBZGQgcGVyc29uYWxpemVkIGRlc2NyaXB0aW9ucyB0byB5b3VyIHBhY2thZ2VzJyk7XG4gICAgbmV4dFN0ZXBzLnB1c2goJ1NldCBjb21wZXRpdGl2ZSBwcmljaW5nIGZvciB5b3VyIHNlcnZpY2VzJyk7XG4gIH0gZWxzZSBpZiAoY3VzdG9taXplZFBhY2thZ2VzIDwgdG90YWxQYWNrYWdlcykge1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IHRvdGFsUGFja2FnZXMgLSBjdXN0b21pemVkUGFja2FnZXM7XG4gICAgbmV4dFN0ZXBzLnB1c2goYEN1c3RvbWl6ZSAke3JlbWFpbmluZ30gcmVtYWluaW5nIHBhY2thZ2Uke3JlbWFpbmluZyA+IDEgPyAncycgOiAnJ31gKTtcbiAgICBuZXh0U3RlcHMucHVzaCgnUmV2aWV3IGFuZCBhZGp1c3QgcHJpY2luZyBmb3IgY29uc2lzdGVuY3knKTtcbiAgfSBlbHNlIHtcbiAgICBuZXh0U3RlcHMucHVzaCgnUmV2aWV3IGFsbCBwYWNrYWdlcyBmb3IgYWNjdXJhY3knKTtcbiAgICBuZXh0U3RlcHMucHVzaCgnU2V0IHlvdXIgYXZhaWxhYmlsaXR5IHNjaGVkdWxlJyk7XG4gICAgbmV4dFN0ZXBzLnB1c2goJ1N0YXJ0IHByb21vdGluZyB5b3VyIHNlcnZpY2VzJyk7XG4gIH1cblxuICByZXR1cm4gbmV4dFN0ZXBzO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBjb21wbGV0aW9uIHRpbWUgaW4gYSBodW1hbi1yZWFkYWJsZSBmb3JtYXRcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlQ29tcGxldGlvblRpbWUoc3RhcnRUaW1lOiBEYXRlLCBlbmRUaW1lOiBEYXRlKTogc3RyaW5nIHtcbiAgY29uc3QgZGlmZk1zID0gZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpO1xuICBjb25zdCBkaWZmSG91cnMgPSBNYXRoLmZsb29yKGRpZmZNcyAvICgxMDAwICogNjAgKiA2MCkpO1xuICBjb25zdCBkaWZmTWludXRlcyA9IE1hdGguZmxvb3IoKGRpZmZNcyAlICgxMDAwICogNjAgKiA2MCkpIC8gKDEwMDAgKiA2MCkpO1xuXG4gIGlmIChkaWZmSG91cnMgPiAwKSB7XG4gICAgcmV0dXJuIGAke2RpZmZIb3Vyc31oICR7ZGlmZk1pbnV0ZXN9bWA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke2RpZmZNaW51dGVzfSBtaW51dGVzYDtcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0Q3VycmVudFVzZXIiLCJQcmlzbWFDbGllbnQiLCJjcmVhdGVOb3RpZmljYXRpb24iLCJwcmlzbWEiLCJHRVQiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsInVzZXIiLCJyb2xlIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwicHJvdmlkZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJ1c2VySWQiLCJpZCIsImluY2x1ZGUiLCJjYXRhbG9ndWVJdGVtcyIsImlzQWN0aXZlIiwic2VydmljZSIsInNlbGVjdCIsIm5hbWUiLCJzZXJ2aWNlcyIsInRvdGFsUGFja2FnZXMiLCJsZW5ndGgiLCJjdXN0b21pemVkUGFja2FnZXMiLCJmaWx0ZXIiLCJpdGVtIiwiaXNEZWZhdWx0VGl0bGUiLCJ0ZXN0IiwidGl0bGUiLCJpc0N1c3RvbWl6ZWREZXNjIiwic2hvcnREZXNjIiwiaXNDdXN0b21pemVkUHJpY2UiLCJpc1N0YW5kYXJkUHJpY2UiLCJwcmljZSIsImNvbXBsZXRpb25QZXJjZW50YWdlIiwiTWF0aCIsInJvdW5kIiwiaXNDb21wbGV0ZWQiLCJuZXh0U3RlcHMiLCJnZW5lcmF0ZU5leHRTdGVwcyIsImVzdGltYXRlZFRpbWVSZW1haW5pbmciLCJwcm9ncmVzcyIsIlBPU1QiLCJib2R5IiwiY29tcGxldGVkIiwidXBkYXRlZFByb3ZpZGVyIiwidXBkYXRlIiwiZGF0YSIsImNhdGFsb2d1ZVNldHVwQ29tcGxldGVkIiwiY2F0YWxvZ3VlU2V0dXBDb21wbGV0ZWRBdCIsIkRhdGUiLCJjb21wbGV0aW9uVGltZSIsImNhbGN1bGF0ZUNvbXBsZXRpb25UaW1lIiwiY3JlYXRlZEF0IiwidHlwZSIsImNvbnRlbnQiLCJzdWNjZXNzIiwibWVzc2FnZSIsInN0YW5kYXJkUHJpY2VzIiwiaW5jbHVkZXMiLCJwdXNoIiwicmVtYWluaW5nIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImRpZmZNcyIsImdldFRpbWUiLCJkaWZmSG91cnMiLCJmbG9vciIsImRpZmZNaW51dGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/provider/setup-progress/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearAuthCookie: () => (/* binding */ clearAuthCookie),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   getCurrentUser: () => (/* binding */ getCurrentUser),\n/* harmony export */   getCurrentUserSafe: () => (/* binding */ getCurrentUserSafe),\n/* harmony export */   getUserDashboardPath: () => (/* binding */ getUserDashboardPath),\n/* harmony export */   getUserFromRequest: () => (/* binding */ getUserFromRequest),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   requireAdmin: () => (/* binding */ requireAdmin),\n/* harmony export */   setAuthCookie: () => (/* binding */ setAuthCookie),\n/* harmony export */   signToken: () => (/* binding */ signToken),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/.pnpm/jose@5.10.0/node_modules/jose/dist/node/esm/jwt/sign.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/.pnpm/jose@5.10.0/node_modules/jose/dist/node/esm/jwt/verify.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/.pnpm/bcryptjs@2.4.3/node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/.pnpm/next@14.2.32_@babel+core@7._f37a6f559989085e15f473fa19285327/node_modules/next/dist/api/headers.js\");\n/* harmony import */ var _db_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./db-utils */ \"(rsc)/./lib/db-utils.ts\");\n\n\n\n\nconst JWT_EXPIRES_IN = \"7d\";\nasync function hashPassword(password) {\n    const saltRounds = 10;\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().hash(password, saltRounds);\n}\nasync function verifyPassword(password, hashedPassword) {\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, hashedPassword);\n}\nasync function signToken(payload) {\n    const secret = new TextEncoder().encode(process.env.NEXTAUTH_SECRET || \"secret\");\n    return await new jose__WEBPACK_IMPORTED_MODULE_3__.SignJWT(payload).setProtectedHeader({\n        alg: \"HS256\"\n    }).setIssuedAt().setExpirationTime(JWT_EXPIRES_IN).sign(secret);\n}\nasync function verifyToken(token) {\n    try {\n        const secret = new TextEncoder().encode(process.env.NEXTAUTH_SECRET || \"secret\");\n        const { payload } = await jose__WEBPACK_IMPORTED_MODULE_4__.jwtVerify(token, secret);\n        return payload;\n    } catch (error) {\n        return null;\n    }\n}\nasync function getCurrentUser() {\n    try {\n        // Skip during build time\n        if (process.env.NEXT_PHASE === \"phase-production-build\") {\n            console.log(\"Skipping getCurrentUser during build time\");\n            return null;\n        }\n        const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n        const token = cookieStore.get(\"auth-token\")?.value;\n        if (!token) return null;\n        const decoded = await verifyToken(token);\n        if (!decoded) return null;\n        // Verify user still exists and is active\n        const user = await _db_utils__WEBPACK_IMPORTED_MODULE_2__.db.user.findFirst({\n            where: {\n                id: decoded.id,\n                isActive: true\n            },\n            select: {\n                id: true,\n                email: true,\n                name: true,\n                role: true,\n                emailVerified: true,\n                provider: {\n                    select: {\n                        id: true\n                    }\n                }\n            }\n        });\n        return user;\n    } catch (error) {\n        console.error(\"Error in getCurrentUser:\", error);\n        return null;\n    }\n}\n// Compatibility exports for existing imports in API routes\nasync function getCurrentUserSafe() {\n    return await getCurrentUser();\n}\nasync function generateToken(payload) {\n    return await signToken(payload);\n}\nasync function requireAdmin() {\n    const user = await getCurrentUser();\n    if (!user || user.role !== \"ADMIN\") return null;\n    return user;\n}\nasync function getUserFromRequest(request) {\n    // Skip during build time\n    if (false) {}\n    // Check if we're in a browser/Edge runtime environment\n    if (false) {}\n    const cookieHeader = request.headers.get(\"cookie\");\n    if (!cookieHeader) return null;\n    const token = cookieHeader.split(\";\").find((c)=>c.trim().startsWith(\"auth-token=\"))?.split(\"=\")[1];\n    if (!token) return null;\n    const decoded = await verifyToken(token);\n    if (!decoded) return null;\n    // This function is used in middleware, which runs in the Edge runtime where\n    // Prisma is not available. We'll only verify the token here.\n    // The full user object will be fetched from the DB in server components/API routes.\n    return decoded;\n}\nasync function setAuthCookie(user) {\n    const token = await signToken(user);\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    // Simplified cookie configuration - no domain restrictions\n    const cookieOptions = {\n        httpOnly: true,\n        secure: \"development\" === \"production\",\n        sameSite: \"lax\",\n        path: \"/\",\n        maxAge: 60 * 60 * 24 * 7\n    };\n    console.log(\"\\uD83C\\uDF6A Setting auth cookie:\", {\n        userId: user.id,\n        userEmail: user.email,\n        cookieDomain: \"auto (no domain specified)\",\n        secure: cookieOptions.secure,\n        sameSite: cookieOptions.sameSite,\n        maxAge: cookieOptions.maxAge\n    });\n    cookieStore.set(\"auth-token\", token, cookieOptions);\n}\nasync function clearAuthCookie() {\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    cookieStore.delete(\"auth-token\");\n}\nfunction getUserDashboardPath(role, isEmailVerified, providerStatus) {\n    if (!isEmailVerified) return \"/verify-email\";\n    switch(role){\n        case \"CLIENT\":\n            return \"/dashboard\";\n        case \"PROVIDER\":\n            if (providerStatus === \"INCOMPLETE\" || providerStatus === \"REJECTED\") return \"/provider/onboarding\";\n            if (providerStatus === \"PENDING\") return \"/provider/pending\";\n            if (providerStatus === \"APPROVED\") return \"/provider/dashboard\";\n            return \"/provider/onboarding\";\n        case \"ADMIN\":\n            return \"/admin\";\n        default:\n            return \"/dashboard\";\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQU87UUFDVDtZQUNFLE9BQU87SUFDWDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2xpYi9hdXRoLnRzP2JmN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgam9zZSBmcm9tICdqb3NlJztcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCJcbmltcG9ydCB7IGNvb2tpZXMgfSBmcm9tIFwibmV4dC9oZWFkZXJzXCJcbmltcG9ydCB7IGRiIH0gZnJvbSBcIi4vZGItdXRpbHNcIlxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSBcIi4vcHJpc21hXCJcbmltcG9ydCB0eXBlIHsgVXNlclJvbGUgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIlxuXG5jb25zdCBKV1RfRVhQSVJFU19JTiA9IFwiN2RcIlxuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhVc2VyIHtcbiAgaWQ6IHN0cmluZ1xuICBlbWFpbDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICByb2xlOiBVc2VyUm9sZVxuICBlbWFpbFZlcmlmaWVkOiBib29sZWFuXG4gIGF2YXRhcj86IHN0cmluZ1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzaFBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcpIHtcbiAgY29uc3Qgc2FsdFJvdW5kcyA9IDEwXG4gIHJldHVybiBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdFJvdW5kcylcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZlcmlmeVBhc3N3b3JkKHBhc3N3b3JkOiBzdHJpbmcsIGhhc2hlZFBhc3N3b3JkOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBoYXNoZWRQYXNzd29yZClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25Ub2tlbihwYXlsb2FkOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gIGNvbnN0IHNlY3JldCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQgfHwgJ3NlY3JldCcpXG5cbiAgcmV0dXJuIGF3YWl0IG5ldyBqb3NlLlNpZ25KV1QocGF5bG9hZClcbiAgICAuc2V0UHJvdGVjdGVkSGVhZGVyKHsgYWxnOiAnSFMyNTYnIH0pXG4gICAgLnNldElzc3VlZEF0KClcbiAgICAuc2V0RXhwaXJhdGlvblRpbWUoSldUX0VYUElSRVNfSU4pXG4gICAgLnNpZ24oc2VjcmV0KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5VG9rZW4odG9rZW46IHN0cmluZykge1xuICB0cnkge1xuICAgIGNvbnN0IHNlY3JldCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQgfHwgJ3NlY3JldCcpXG4gICAgY29uc3QgeyBwYXlsb2FkIH0gPSBhd2FpdCBqb3NlLmp3dFZlcmlmeSh0b2tlbiwgc2VjcmV0KVxuICAgIHJldHVybiBwYXlsb2FkXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXIoKTogUHJvbWlzZTwoQXV0aFVzZXIgJiB7IHByb3ZpZGVyPzogeyBpZDogc3RyaW5nIH0gfSkgfCBudWxsPiB7XG4gIHRyeSB7XG4gICAgLy8gU2tpcCBkdXJpbmcgYnVpbGQgdGltZVxuICAgIGlmIChwcm9jZXNzLmVudi5ORVhUX1BIQVNFID09PSAncGhhc2UtcHJvZHVjdGlvbi1idWlsZCcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdTa2lwcGluZyBnZXRDdXJyZW50VXNlciBkdXJpbmcgYnVpbGQgdGltZScpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKClcbiAgICBjb25zdCB0b2tlbiA9IGNvb2tpZVN0b3JlLmdldChcImF1dGgtdG9rZW5cIik/LnZhbHVlXG5cbiAgICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbFxuXG4gICAgY29uc3QgZGVjb2RlZCA9IGF3YWl0IHZlcmlmeVRva2VuKHRva2VuKVxuICAgIGlmICghZGVjb2RlZCkgcmV0dXJuIG51bGxcblxuICAgIC8vIFZlcmlmeSB1c2VyIHN0aWxsIGV4aXN0cyBhbmQgaXMgYWN0aXZlXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLnVzZXIuZmluZEZpcnN0KHtcbiAgICAgIHdoZXJlOiB7IGlkOiBkZWNvZGVkLmlkIGFzIHN0cmluZywgaXNBY3RpdmU6IHRydWUgfSxcbiAgICAgIHNlbGVjdDoge1xuICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgIHJvbGU6IHRydWUsXG4gICAgICAgIGVtYWlsVmVyaWZpZWQ6IHRydWUsXG4gICAgICAgIHByb3ZpZGVyOiB7IHNlbGVjdDogeyBpZDogdHJ1ZSB9IH0sXG4gICAgICB9LFxuICAgIH0pXG5cbiAgICByZXR1cm4gdXNlciBhcyBBdXRoVXNlciAmIHsgcHJvdmlkZXI/OiB7IGlkOiBzdHJpbmcgfSB9IHwgbnVsbFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGdldEN1cnJlbnRVc2VyOicsIGVycm9yKTtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbi8vIENvbXBhdGliaWxpdHkgZXhwb3J0cyBmb3IgZXhpc3RpbmcgaW1wb3J0cyBpbiBBUEkgcm91dGVzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXJTYWZlKCkge1xuICByZXR1cm4gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVUb2tlbihwYXlsb2FkOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSB7XG4gIHJldHVybiBhd2FpdCBzaWduVG9rZW4ocGF5bG9hZClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlcXVpcmVBZG1pbigpOiBQcm9taXNlPEF1dGhVc2VyIHwgbnVsbD4ge1xuICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0Q3VycmVudFVzZXIoKVxuICBpZiAoIXVzZXIgfHwgdXNlci5yb2xlICE9PSAnQURNSU4nKSByZXR1cm4gbnVsbFxuICByZXR1cm4gdXNlclxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckZyb21SZXF1ZXN0KHJlcXVlc3Q6IFJlcXVlc3QpOiBQcm9taXNlPEF1dGhVc2VyIHwgbnVsbD4ge1xuICAvLyBTa2lwIGR1cmluZyBidWlsZCB0aW1lXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nICYmIHByb2Nlc3MuZW52LlZFUkNFTCA9PT0gJzEnICYmICFwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwpIHtcbiAgICBjb25zb2xlLmxvZygnU2tpcHBpbmcgZ2V0VXNlckZyb21SZXF1ZXN0IGR1cmluZyBidWlsZCB0aW1lJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBDaGVjayBpZiB3ZSdyZSBpbiBhIGJyb3dzZXIvRWRnZSBydW50aW1lIGVudmlyb25tZW50XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyB8fCBwcm9jZXNzLmVudi5ORVhUX1JVTlRJTUUgPT09ICdlZGdlJykge1xuICAgIGNvbnNvbGUubG9nKCdTa2lwcGluZyBnZXRVc2VyRnJvbVJlcXVlc3QgaW4gYnJvd3Nlci9FZGdlIHJ1bnRpbWUnKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IGNvb2tpZUhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoXCJjb29raWVcIilcbiAgaWYgKCFjb29raWVIZWFkZXIpIHJldHVybiBudWxsXG5cbiAgY29uc3QgdG9rZW4gPSBjb29raWVIZWFkZXJcbiAgICAuc3BsaXQoXCI7XCIpXG4gICAgLmZpbmQoYyA9PiBjLnRyaW0oKS5zdGFydHNXaXRoKFwiYXV0aC10b2tlbj1cIikpXG4gICAgPy5zcGxpdChcIj1cIilbMV1cblxuICBpZiAoIXRva2VuKSByZXR1cm4gbnVsbFxuXG4gIGNvbnN0IGRlY29kZWQgPSBhd2FpdCB2ZXJpZnlUb2tlbih0b2tlbik7XG4gIGlmICghZGVjb2RlZCkgcmV0dXJuIG51bGw7XG5cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGluIG1pZGRsZXdhcmUsIHdoaWNoIHJ1bnMgaW4gdGhlIEVkZ2UgcnVudGltZSB3aGVyZVxuICAvLyBQcmlzbWEgaXMgbm90IGF2YWlsYWJsZS4gV2UnbGwgb25seSB2ZXJpZnkgdGhlIHRva2VuIGhlcmUuXG4gIC8vIFRoZSBmdWxsIHVzZXIgb2JqZWN0IHdpbGwgYmUgZmV0Y2hlZCBmcm9tIHRoZSBEQiBpbiBzZXJ2ZXIgY29tcG9uZW50cy9BUEkgcm91dGVzLlxuICByZXR1cm4gZGVjb2RlZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldEF1dGhDb29raWUodXNlcjogQXV0aFVzZXIpIHtcbiAgY29uc3QgdG9rZW4gPSBhd2FpdCBzaWduVG9rZW4odXNlcik7XG4gIGNvbnN0IGNvb2tpZVN0b3JlID0gYXdhaXQgY29va2llcygpO1xuXG4gIC8vIFNpbXBsaWZpZWQgY29va2llIGNvbmZpZ3VyYXRpb24gLSBubyBkb21haW4gcmVzdHJpY3Rpb25zXG4gIGNvbnN0IGNvb2tpZU9wdGlvbnMgPSB7XG4gICAgaHR0cE9ubHk6IHRydWUsXG4gICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIsXG4gICAgc2FtZVNpdGU6IFwibGF4XCIgYXMgY29uc3QsXG4gICAgcGF0aDogJy8nLFxuICAgIG1heEFnZTogNjAgKiA2MCAqIDI0ICogNywgLy8gNyBkYXlzXG4gICAgLy8gTm8gZG9tYWluIHNwZWNpZmllZCAtIGxldCBicm93c2VyIGhhbmRsZSBpdCBhdXRvbWF0aWNhbGx5XG4gIH07XG5cbiAgY29uc29sZS5sb2coJ/CfjaogU2V0dGluZyBhdXRoIGNvb2tpZTonLCB7XG4gICAgdXNlcklkOiB1c2VyLmlkLFxuICAgIHVzZXJFbWFpbDogdXNlci5lbWFpbCxcbiAgICBjb29raWVEb21haW46ICdhdXRvIChubyBkb21haW4gc3BlY2lmaWVkKScsXG4gICAgc2VjdXJlOiBjb29raWVPcHRpb25zLnNlY3VyZSxcbiAgICBzYW1lU2l0ZTogY29va2llT3B0aW9ucy5zYW1lU2l0ZSxcbiAgICBtYXhBZ2U6IGNvb2tpZU9wdGlvbnMubWF4QWdlXG4gIH0pO1xuXG4gIGNvb2tpZVN0b3JlLnNldCgnYXV0aC10b2tlbicsIHRva2VuLCBjb29raWVPcHRpb25zKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFyQXV0aENvb2tpZSgpIHtcbiAgY29uc3QgY29va2llU3RvcmUgPSBhd2FpdCBjb29raWVzKClcbiAgY29va2llU3RvcmUuZGVsZXRlKFwiYXV0aC10b2tlblwiKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VXNlckRhc2hib2FyZFBhdGgocm9sZTogVXNlclJvbGUsIGlzRW1haWxWZXJpZmllZDogYm9vbGVhbiwgcHJvdmlkZXJTdGF0dXM/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIWlzRW1haWxWZXJpZmllZCkgcmV0dXJuIFwiL3ZlcmlmeS1lbWFpbFwiXG5cbiAgc3dpdGNoIChyb2xlKSB7XG4gICAgY2FzZSBcIkNMSUVOVFwiOlxuICAgICAgcmV0dXJuIFwiL2Rhc2hib2FyZFwiXG4gICAgY2FzZSBcIlBST1ZJREVSXCI6XG4gICAgICBpZiAocHJvdmlkZXJTdGF0dXMgPT09IFwiSU5DT01QTEVURVwiIHx8IHByb3ZpZGVyU3RhdHVzID09PSBcIlJFSkVDVEVEXCIpIHJldHVybiBcIi9wcm92aWRlci9vbmJvYXJkaW5nXCJcbiAgICAgIGlmIChwcm92aWRlclN0YXR1cyA9PT0gXCJQRU5ESU5HXCIpIHJldHVybiBcIi9wcm92aWRlci9wZW5kaW5nXCJcbiAgICAgIGlmIChwcm92aWRlclN0YXR1cyA9PT0gXCJBUFBST1ZFRFwiKSByZXR1cm4gXCIvcHJvdmlkZXIvZGFzaGJvYXJkXCJcbiAgICAgIHJldHVybiBcIi9wcm92aWRlci9vbmJvYXJkaW5nXCJcbiAgICBjYXNlIFwiQURNSU5cIjpcbiAgICAgIHJldHVybiBcIi9hZG1pblwiXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBcIi9kYXNoYm9hcmRcIlxuICB9XG59XG4iXSwibmFtZXMiOlsiam9zZSIsImJjcnlwdCIsImNvb2tpZXMiLCJkYiIsIkpXVF9FWFBJUkVTX0lOIiwiaGFzaFBhc3N3b3JkIiwicGFzc3dvcmQiLCJzYWx0Um91bmRzIiwiaGFzaCIsInZlcmlmeVBhc3N3b3JkIiwiaGFzaGVkUGFzc3dvcmQiLCJjb21wYXJlIiwic2lnblRva2VuIiwicGF5bG9hZCIsInNlY3JldCIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwicHJvY2VzcyIsImVudiIsIk5FWFRBVVRIX1NFQ1JFVCIsIlNpZ25KV1QiLCJzZXRQcm90ZWN0ZWRIZWFkZXIiLCJhbGciLCJzZXRJc3N1ZWRBdCIsInNldEV4cGlyYXRpb25UaW1lIiwic2lnbiIsInZlcmlmeVRva2VuIiwidG9rZW4iLCJqd3RWZXJpZnkiLCJlcnJvciIsImdldEN1cnJlbnRVc2VyIiwiTkVYVF9QSEFTRSIsImNvbnNvbGUiLCJsb2ciLCJjb29raWVTdG9yZSIsImdldCIsInZhbHVlIiwiZGVjb2RlZCIsInVzZXIiLCJmaW5kRmlyc3QiLCJ3aGVyZSIsImlkIiwiaXNBY3RpdmUiLCJzZWxlY3QiLCJlbWFpbCIsIm5hbWUiLCJyb2xlIiwiZW1haWxWZXJpZmllZCIsInByb3ZpZGVyIiwiZ2V0Q3VycmVudFVzZXJTYWZlIiwiZ2VuZXJhdGVUb2tlbiIsInJlcXVpcmVBZG1pbiIsImdldFVzZXJGcm9tUmVxdWVzdCIsInJlcXVlc3QiLCJWRVJDRUwiLCJEQVRBQkFTRV9VUkwiLCJORVhUX1JVTlRJTUUiLCJjb29raWVIZWFkZXIiLCJoZWFkZXJzIiwic3BsaXQiLCJmaW5kIiwiYyIsInRyaW0iLCJzdGFydHNXaXRoIiwic2V0QXV0aENvb2tpZSIsImNvb2tpZU9wdGlvbnMiLCJodHRwT25seSIsInNlY3VyZSIsInNhbWVTaXRlIiwicGF0aCIsIm1heEFnZSIsInVzZXJJZCIsInVzZXJFbWFpbCIsImNvb2tpZURvbWFpbiIsInNldCIsImNsZWFyQXV0aENvb2tpZSIsImRlbGV0ZSIsImdldFVzZXJEYXNoYm9hcmRQYXRoIiwiaXNFbWFpbFZlcmlmaWVkIiwicHJvdmlkZXJTdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db-utils.ts":
/*!*************************!*\
  !*** ./lib/db-utils.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   withRetry: () => (/* binding */ withRetry)\n/* harmony export */ });\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./lib/prisma.ts\");\n\n// Retry configuration for database operations\nconst RETRY_CONFIG = {\n    maxAttempts: 3,\n    baseDelay: 1000,\n    maxDelay: 5000\n};\n// Exponential backoff delay\nconst getDelay = (attempt)=>{\n    const delay = RETRY_CONFIG.baseDelay * Math.pow(2, attempt - 1);\n    return Math.min(delay, RETRY_CONFIG.maxDelay);\n};\n// Check if error is retryable\nconst isRetryableError = (error)=>{\n    if (!error) return false;\n    const message = error.message || \"\";\n    const code = error.code || \"\";\n    // Retry on \"Engine is not yet connected\" errors (common with pooler)\n    if (message.includes(\"Engine is not yet connected\")) {\n        return true;\n    }\n    // Retry on prepared statement errors (Supabase connection issues)\n    if (message.includes(\"prepared statement\") || message.includes(\"does not exist\")) {\n        return true;\n    }\n    // Retry on connection errors\n    if (code === \"P1001\" || code === \"P1008\" || code === \"P1017\") {\n        return true;\n    }\n    // Retry on timeout errors\n    if (code === \"P2024\" || message.includes(\"timeout\") || message.includes(\"connection pool\")) {\n        return true;\n    }\n    return false;\n};\n// Generic retry wrapper for database operations\nasync function withRetry(operation, context = \"database operation\") {\n    // Check if Prisma client is available\n    if (!_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n        throw new Error(`Cannot execute ${context} - Prisma client not available in this environment`);\n    }\n    let lastError;\n    for(let attempt = 1; attempt <= RETRY_CONFIG.maxAttempts; attempt++){\n        try {\n            return await operation();\n        } catch (error) {\n            lastError = error;\n            if (attempt === RETRY_CONFIG.maxAttempts || !isRetryableError(error)) {\n                console.error(`‚ùå ${context} failed after ${attempt} attempts:`, error);\n                throw error;\n            }\n            console.warn(`‚ö†Ô∏è ${context} failed (attempt ${attempt}/${RETRY_CONFIG.maxAttempts}), retrying...`, error);\n            // Wait before retrying\n            await new Promise((resolve)=>setTimeout(resolve, getDelay(attempt)));\n            // For connection errors, try to refresh the connection\n            if (error.message && (error.message.includes(\"prepared statement\") || error.message.includes(\"Engine is not yet connected\") || error.message.includes(\"connection pool\"))) {\n                console.log(\"\\uD83D\\uDD04 Attempting to refresh Prisma connection...\");\n                try {\n                    await _prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$disconnect();\n                    await _prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$connect();\n                    console.log(\"‚úÖ Prisma connection refreshed\");\n                } catch (refreshError) {\n                    console.warn(\"‚ö†Ô∏è Failed to refresh Prisma connection:\", refreshError);\n                }\n            }\n        }\n    }\n    throw lastError;\n}\n// Create database operations wrapper\nconst createDbWrapper = ()=>{\n    if (!_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n        console.warn(\"‚ö†Ô∏è Prisma client not available - running in browser/Edge runtime\");\n        // Return dummy db object for build-time compatibility\n        return {\n            user: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                update: ()=>Promise.resolve(null),\n                delete: ()=>Promise.resolve(null),\n                create: ()=>Promise.resolve(null)\n            },\n            provider: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                update: ()=>Promise.resolve(null),\n                delete: ()=>Promise.resolve(null),\n                upsert: ()=>Promise.resolve(null)\n            },\n            booking: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                update: ()=>Promise.resolve(null),\n                aggregate: ()=>Promise.resolve({\n                        _sum: {\n                            totalAmount: 0\n                        },\n                        _avg: {\n                            totalAmount: 0\n                        }\n                    })\n            },\n            payment: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                update: ()=>Promise.resolve(null),\n                delete: ()=>Promise.resolve(null),\n                aggregate: ()=>Promise.resolve({\n                        _sum: {\n                            amount: 0\n                        },\n                        _avg: {\n                            rating: 0\n                        }\n                    })\n            },\n            notification: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                update: ()=>Promise.resolve(null),\n                updateMany: ()=>Promise.resolve({\n                        count: 0\n                    }),\n                delete: ()=>Promise.resolve(null),\n                deleteMany: ()=>Promise.resolve({\n                        count: 0\n                    })\n            },\n            catalogueItem: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                update: ()=>Promise.resolve(null),\n                delete: ()=>Promise.resolve(null),\n                upsert: ()=>Promise.resolve(null)\n            },\n            review: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                aggregate: ()=>Promise.resolve({\n                        _sum: {\n                            amount: 0\n                        },\n                        _avg: {\n                            rating: 0\n                        }\n                    })\n            },\n            payout: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                update: ()=>Promise.resolve(null),\n                delete: ()=>Promise.resolve(null)\n            },\n            service: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0)\n            },\n            serviceCategory: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                update: ()=>Promise.resolve(null),\n                delete: ()=>Promise.resolve(null)\n            },\n            providerService: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                createMany: ()=>Promise.resolve({\n                        count: 0\n                    }),\n                update: ()=>Promise.resolve(null),\n                delete: ()=>Promise.resolve(null),\n                deleteMany: ()=>Promise.resolve({\n                        count: 0\n                    })\n            },\n            verificationToken: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                delete: ()=>Promise.resolve(null),\n                deleteMany: ()=>Promise.resolve({\n                        count: 0\n                    })\n            },\n            passwordResetToken: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                delete: ()=>Promise.resolve(null),\n                deleteMany: ()=>Promise.resolve({\n                        count: 0\n                    })\n            },\n            bookingDraft: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                update: ()=>Promise.resolve(null),\n                delete: ()=>Promise.resolve(null),\n                deleteMany: ()=>Promise.resolve({\n                        count: 0\n                    })\n            },\n            notification: {\n                findFirst: ()=>Promise.resolve(null),\n                findMany: ()=>Promise.resolve([]),\n                findUnique: ()=>Promise.resolve(null),\n                count: ()=>Promise.resolve(0),\n                create: ()=>Promise.resolve(null),\n                update: ()=>Promise.resolve(null),\n                updateMany: ()=>Promise.resolve({\n                        count: 0\n                    }),\n                delete: ()=>Promise.resolve(null),\n                deleteMany: ()=>Promise.resolve({\n                        count: 0\n                    })\n            },\n            $transaction: (callback)=>Promise.resolve(callback({})),\n            $queryRaw: ()=>Promise.resolve([]),\n            $executeRaw: ()=>Promise.resolve(0),\n            $disconnect: ()=>Promise.resolve()\n        };\n    }\n    // Return real db wrapper with retry logic\n    return {\n        // User operations\n        user: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.findFirst(args), \"user.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.findMany(args), \"user.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.findUnique(args), \"user.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.count(args), \"user.count\"),\n            update: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.update(args), \"user.update\"),\n            delete: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.delete(args), \"user.delete\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].user.create(args), \"user.create\")\n        },\n        // Provider operations\n        provider: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].provider.findFirst(args), \"provider.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].provider.findMany(args), \"provider.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].provider.findUnique(args), \"provider.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].provider.count(args), \"provider.count\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].provider.create(args), \"provider.create\"),\n            update: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].provider.update(args), \"provider.update\"),\n            delete: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].provider.delete(args), \"provider.delete\"),\n            upsert: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].provider.upsert(args), \"provider.upsert\")\n        },\n        // Booking operations\n        booking: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].booking.findFirst(args), \"booking.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].booking.findMany(args), \"booking.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].booking.findUnique(args), \"booking.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].booking.count(args), \"booking.count\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].booking.create(args), \"booking.create\"),\n            update: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].booking.update(args), \"booking.update\"),\n            aggregate: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].booking.aggregate(args), \"booking.aggregate\")\n        },\n        // Payment operations\n        payment: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payment.findFirst(args), \"payment.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payment.findMany(args), \"payment.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payment.findUnique(args), \"payment.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payment.count(args), \"payment.count\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payment.create(args), \"payment.create\"),\n            update: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payment.update(args), \"payment.update\"),\n            delete: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payment.delete(args), \"payment.delete\"),\n            aggregate: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payment.aggregate(args), \"payment.aggregate\")\n        },\n        // Review operations\n        review: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].review.findFirst(args), \"review.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].review.findMany(args), \"review.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].review.findUnique(args), \"review.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].review.count(args), \"review.count\"),\n            aggregate: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].review.aggregate(args), \"review.aggregate\")\n        },\n        // Notification operations\n        notification: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].notification.findFirst(args), \"notification.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].notification.findMany(args), \"notification.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].notification.findUnique(args), \"notification.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].notification.count(args), \"notification.count\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].notification.create(args), \"notification.create\"),\n            update: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].notification.update(args), \"notification.update\"),\n            updateMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].notification.updateMany(args), \"notification.updateMany\"),\n            delete: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].notification.delete(args), \"notification.delete\"),\n            deleteMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].notification.deleteMany(args), \"notification.deleteMany\")\n        },\n        // Payout operations\n        payout: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payout.findFirst(args), \"payout.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payout.findMany(args), \"payout.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payout.findUnique(args), \"payout.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payout.count(args), \"payout.count\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payout.create(args), \"payout.create\"),\n            update: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payout.update(args), \"payout.update\"),\n            delete: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].payout.delete(args), \"payout.delete\")\n        },\n        // Service operations\n        service: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].service.findFirst(args), \"service.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].service.findMany(args), \"service.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].service.findUnique(args), \"service.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].service.count(args), \"service.count\")\n        },\n        // ServiceCategory operations\n        serviceCategory: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].serviceCategory.findFirst(args), \"serviceCategory.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].serviceCategory.findMany(args), \"serviceCategory.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].serviceCategory.findUnique(args), \"serviceCategory.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].serviceCategory.count(args), \"serviceCategory.count\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].serviceCategory.create(args), \"serviceCategory.create\"),\n            update: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].serviceCategory.update(args), \"serviceCategory.update\"),\n            delete: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].serviceCategory.delete(args), \"serviceCategory.delete\")\n        },\n        // ProviderService operations\n        providerService: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].providerService.findFirst(args), \"providerService.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].providerService.findMany(args), \"providerService.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].providerService.findUnique(args), \"providerService.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].providerService.count(args), \"providerService.count\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].providerService.create(args), \"providerService.create\"),\n            createMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].providerService.createMany(args), \"providerService.createMany\"),\n            update: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].providerService.update(args), \"providerService.update\"),\n            delete: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].providerService.delete(args), \"providerService.delete\"),\n            deleteMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].providerService.deleteMany(args), \"providerService.deleteMany\")\n        },\n        // VerificationToken operations\n        verificationToken: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].verificationToken.findFirst(args), \"verificationToken.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].verificationToken.findMany(args), \"verificationToken.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].verificationToken.findUnique(args), \"verificationToken.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].verificationToken.count(args), \"verificationToken.count\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].verificationToken.create(args), \"verificationToken.create\"),\n            delete: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].verificationToken.delete(args), \"verificationToken.delete\"),\n            deleteMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].verificationToken.deleteMany(args), \"verificationToken.deleteMany\")\n        },\n        // PasswordResetToken operations\n        passwordResetToken: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].passwordResetToken.findFirst(args), \"passwordResetToken.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].passwordResetToken.findMany(args), \"passwordResetToken.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].passwordResetToken.findUnique(args), \"passwordResetToken.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].passwordResetToken.count(args), \"passwordResetToken.count\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].passwordResetToken.create(args), \"passwordResetToken.create\"),\n            delete: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].passwordResetToken.delete(args), \"passwordResetToken.delete\"),\n            deleteMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].passwordResetToken.deleteMany(args), \"passwordResetToken.deleteMany\")\n        },\n        // BookingDraft operations\n        bookingDraft: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bookingDraft.findFirst(args), \"bookingDraft.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bookingDraft.findMany(args), \"bookingDraft.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bookingDraft.findUnique(args), \"bookingDraft.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bookingDraft.count(args), \"bookingDraft.count\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bookingDraft.create(args), \"bookingDraft.create\"),\n            update: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bookingDraft.update(args), \"bookingDraft.update\"),\n            delete: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bookingDraft.delete(args), \"bookingDraft.delete\"),\n            deleteMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].bookingDraft.deleteMany(args), \"bookingDraft.deleteMany\")\n        },\n        // CatalogueItem operations\n        catalogueItem: {\n            findFirst: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].catalogueItem.findFirst(args), \"catalogueItem.findFirst\"),\n            findMany: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].catalogueItem.findMany(args), \"catalogueItem.findMany\"),\n            findUnique: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].catalogueItem.findUnique(args), \"catalogueItem.findUnique\"),\n            count: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].catalogueItem.count(args), \"catalogueItem.count\"),\n            create: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].catalogueItem.create(args), \"catalogueItem.create\"),\n            update: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].catalogueItem.update(args), \"catalogueItem.update\"),\n            delete: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].catalogueItem.delete(args), \"catalogueItem.delete\"),\n            upsert: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].catalogueItem.upsert(args), \"catalogueItem.upsert\")\n        },\n        // Transaction operations\n        $transaction: async (callback)=>{\n            // For transactions, we need to handle retries differently\n            // because the callback needs to receive the transaction object\n            let lastError;\n            for(let attempt = 1; attempt <= RETRY_CONFIG.maxAttempts; attempt++){\n                try {\n                    return await _prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$transaction(callback);\n                } catch (error) {\n                    lastError = error;\n                    if (attempt === RETRY_CONFIG.maxAttempts || !isRetryableError(error)) {\n                        console.error(`‚ùå db.$transaction failed after ${attempt} attempts:`, error);\n                        throw error;\n                    }\n                    console.warn(`‚ö†Ô∏è db.$transaction failed (attempt ${attempt}/${RETRY_CONFIG.maxAttempts}), retrying...`, error);\n                    // Wait before retrying\n                    await new Promise((resolve)=>setTimeout(resolve, getDelay(attempt)));\n                    // For connection errors, try to refresh the connection\n                    if (error.message && (error.message.includes(\"prepared statement\") || error.message.includes(\"Engine is not yet connected\") || error.message.includes(\"connection pool\"))) {\n                        console.log(\"\\uD83D\\uDD04 Attempting to refresh Prisma connection...\");\n                        try {\n                            await _prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$disconnect();\n                            await _prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$connect();\n                            console.log(\"‚úÖ Prisma connection refreshed\");\n                        } catch (refreshError) {\n                            console.warn(\"‚ö†Ô∏è Failed to refresh Prisma connection:\", refreshError);\n                        }\n                    }\n                }\n            }\n            throw lastError;\n        },\n        // Raw query operations\n        $queryRaw: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$queryRaw(args), \"db.$queryRaw\"),\n        $executeRaw: (args)=>withRetry(()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$executeRaw(args), \"db.$executeRaw\"),\n        $disconnect: ()=>_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].$disconnect()\n    };\n};\n// Create and export the database wrapper\nconst db = createDbWrapper();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2xELFVBQVUsSUFBTWhCLCtDQUFNQSxDQUFDZ0UsU0FBUyxDQUFDRSxPQUFPO1FBQ2xFRCxhQUFhLENBQUNDLE9BQWNsRCxVQUFVLElBQU1oQiwrQ0FBTUEsQ0FBQ2lFLFdBQVcsQ0FBQ0MsT0FBTztRQUN0RXZDLGFBQWEsSUFBTTNCLCtDQUFNQSxDQUFDMkIsV0FBVztJQUN2QztBQUNGO0FBRUEseUNBQXlDO0FBQ2xDLE1BQU13QyxLQUFLckMsa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2xpYi9kYi11dGlscy50cz9jZDUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcmlzbWEgZnJvbSAnLi9wcmlzbWEnO1xuXG4vLyBSZXRyeSBjb25maWd1cmF0aW9uIGZvciBkYXRhYmFzZSBvcGVyYXRpb25zXG5jb25zdCBSRVRSWV9DT05GSUcgPSB7XG4gIG1heEF0dGVtcHRzOiAzLFxuICBiYXNlRGVsYXk6IDEwMDAsIC8vIDEgc2Vjb25kXG4gIG1heERlbGF5OiA1MDAwLCAgLy8gNSBzZWNvbmRzXG59O1xuXG4vLyBFeHBvbmVudGlhbCBiYWNrb2ZmIGRlbGF5XG5jb25zdCBnZXREZWxheSA9IChhdHRlbXB0OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICBjb25zdCBkZWxheSA9IFJFVFJZX0NPTkZJRy5iYXNlRGVsYXkgKiBNYXRoLnBvdygyLCBhdHRlbXB0IC0gMSk7XG4gIHJldHVybiBNYXRoLm1pbihkZWxheSwgUkVUUllfQ09ORklHLm1heERlbGF5KTtcbn07XG5cbi8vIENoZWNrIGlmIGVycm9yIGlzIHJldHJ5YWJsZVxuY29uc3QgaXNSZXRyeWFibGVFcnJvciA9IChlcnJvcjogYW55KTogYm9vbGVhbiA9PiB7XG4gIGlmICghZXJyb3IpIHJldHVybiBmYWxzZTtcbiAgXG4gIGNvbnN0IG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlIHx8ICcnO1xuICBjb25zdCBjb2RlID0gZXJyb3IuY29kZSB8fCAnJztcbiAgXG4gIC8vIFJldHJ5IG9uIFwiRW5naW5lIGlzIG5vdCB5ZXQgY29ubmVjdGVkXCIgZXJyb3JzIChjb21tb24gd2l0aCBwb29sZXIpXG4gIGlmIChtZXNzYWdlLmluY2x1ZGVzKCdFbmdpbmUgaXMgbm90IHlldCBjb25uZWN0ZWQnKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICAvLyBSZXRyeSBvbiBwcmVwYXJlZCBzdGF0ZW1lbnQgZXJyb3JzIChTdXBhYmFzZSBjb25uZWN0aW9uIGlzc3VlcylcbiAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoJ3ByZXBhcmVkIHN0YXRlbWVudCcpIHx8IG1lc3NhZ2UuaW5jbHVkZXMoJ2RvZXMgbm90IGV4aXN0JykpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBcbiAgLy8gUmV0cnkgb24gY29ubmVjdGlvbiBlcnJvcnNcbiAgaWYgKGNvZGUgPT09ICdQMTAwMScgfHwgY29kZSA9PT0gJ1AxMDA4JyB8fCBjb2RlID09PSAnUDEwMTcnKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgXG4gIC8vIFJldHJ5IG9uIHRpbWVvdXQgZXJyb3JzXG4gIGlmIChjb2RlID09PSAnUDIwMjQnIHx8IG1lc3NhZ2UuaW5jbHVkZXMoJ3RpbWVvdXQnKSB8fCBtZXNzYWdlLmluY2x1ZGVzKCdjb25uZWN0aW9uIHBvb2wnKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIFxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vLyBHZW5lcmljIHJldHJ5IHdyYXBwZXIgZm9yIGRhdGFiYXNlIG9wZXJhdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3aXRoUmV0cnk8VD4oXG4gIG9wZXJhdGlvbjogKCkgPT4gUHJvbWlzZTxUPixcbiAgY29udGV4dDogc3RyaW5nID0gJ2RhdGFiYXNlIG9wZXJhdGlvbidcbik6IFByb21pc2U8VD4ge1xuICAvLyBDaGVjayBpZiBQcmlzbWEgY2xpZW50IGlzIGF2YWlsYWJsZVxuICBpZiAoIXByaXNtYSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGV4ZWN1dGUgJHtjb250ZXh0fSAtIFByaXNtYSBjbGllbnQgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50YCk7XG4gIH1cblxuICBsZXQgbGFzdEVycm9yOiBhbnk7XG4gIFxuICBmb3IgKGxldCBhdHRlbXB0ID0gMTsgYXR0ZW1wdCA8PSBSRVRSWV9DT05GSUcubWF4QXR0ZW1wdHM7IGF0dGVtcHQrKykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgb3BlcmF0aW9uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxhc3RFcnJvciA9IGVycm9yO1xuICAgICAgXG4gICAgICBpZiAoYXR0ZW1wdCA9PT0gUkVUUllfQ09ORklHLm1heEF0dGVtcHRzIHx8ICFpc1JldHJ5YWJsZUVycm9yKGVycm9yKSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgJHtjb250ZXh0fSBmYWlsZWQgYWZ0ZXIgJHthdHRlbXB0fSBhdHRlbXB0czpgLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyAke2NvbnRleHR9IGZhaWxlZCAoYXR0ZW1wdCAke2F0dGVtcHR9LyR7UkVUUllfQ09ORklHLm1heEF0dGVtcHRzfSksIHJldHJ5aW5nLi4uYCwgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGJlZm9yZSByZXRyeWluZ1xuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGdldERlbGF5KGF0dGVtcHQpKSk7XG4gICAgICBcbiAgICAgIC8vIEZvciBjb25uZWN0aW9uIGVycm9ycywgdHJ5IHRvIHJlZnJlc2ggdGhlIGNvbm5lY3Rpb25cbiAgICAgIGlmIChlcnJvci5tZXNzYWdlICYmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdwcmVwYXJlZCBzdGF0ZW1lbnQnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdFbmdpbmUgaXMgbm90IHlldCBjb25uZWN0ZWQnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdjb25uZWN0aW9uIHBvb2wnKSkpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgQXR0ZW1wdGluZyB0byByZWZyZXNoIFByaXNtYSBjb25uZWN0aW9uLi4uJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgcHJpc21hLiRkaXNjb25uZWN0KCk7XG4gICAgICAgICAgYXdhaXQgcHJpc21hLiRjb25uZWN0KCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBQcmlzbWEgY29ubmVjdGlvbiByZWZyZXNoZWQnKTtcbiAgICAgICAgfSBjYXRjaCAocmVmcmVzaEVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gRmFpbGVkIHRvIHJlZnJlc2ggUHJpc21hIGNvbm5lY3Rpb246JywgcmVmcmVzaEVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbiAgdGhyb3cgbGFzdEVycm9yO1xufVxuXG4vLyBDcmVhdGUgZGF0YWJhc2Ugb3BlcmF0aW9ucyB3cmFwcGVyXG5jb25zdCBjcmVhdGVEYldyYXBwZXIgPSAoKSA9PiB7XG4gIGlmICghcHJpc21hKSB7XG4gICAgY29uc29sZS53YXJuKCfimqDvuI8gUHJpc21hIGNsaWVudCBub3QgYXZhaWxhYmxlIC0gcnVubmluZyBpbiBicm93c2VyL0VkZ2UgcnVudGltZScpO1xuICAgIC8vIFJldHVybiBkdW1teSBkYiBvYmplY3QgZm9yIGJ1aWxkLXRpbWUgY29tcGF0aWJpbGl0eVxuICAgIHJldHVybiB7XG4gICAgICB1c2VyOiB7IFxuICAgICAgICBmaW5kRmlyc3Q6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSwgXG4gICAgICAgIGZpbmRNYW55OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoW10pLCBcbiAgICAgICAgZmluZFVuaXF1ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLCBcbiAgICAgICAgY291bnQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSgwKSxcbiAgICAgICAgdXBkYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGRlbGV0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICBjcmVhdGU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKVxuICAgICAgfSxcbiAgICAgIHByb3ZpZGVyOiB7IFxuICAgICAgICBmaW5kRmlyc3Q6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSwgXG4gICAgICAgIGZpbmRNYW55OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoW10pLCBcbiAgICAgICAgZmluZFVuaXF1ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLCBcbiAgICAgICAgY291bnQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSgwKSxcbiAgICAgICAgY3JlYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIHVwZGF0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICBkZWxldGU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgdXBzZXJ0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICB9LFxuICAgICAgYm9va2luZzogeyBcbiAgICAgICAgZmluZEZpcnN0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksIFxuICAgICAgICBmaW5kTWFueTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKFtdKSwgXG4gICAgICAgIGZpbmRVbmlxdWU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSwgXG4gICAgICAgIGNvdW50OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoMCksXG4gICAgICAgIGNyZWF0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICB1cGRhdGU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgYWdncmVnYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBfc3VtOiB7IHRvdGFsQW1vdW50OiAwIH0sIF9hdmc6IHsgdG90YWxBbW91bnQ6IDAgfSB9KSxcbiAgICAgIH0sXG4gICAgICBwYXltZW50OiB7IFxuICAgICAgICBmaW5kRmlyc3Q6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSwgXG4gICAgICAgIGZpbmRNYW55OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoW10pLCBcbiAgICAgICAgZmluZFVuaXF1ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLCBcbiAgICAgICAgY291bnQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSgwKSwgXG4gICAgICAgIGNyZWF0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICB1cGRhdGU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgZGVsZXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGFnZ3JlZ2F0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgX3N1bTogeyBhbW91bnQ6IDAgfSwgX2F2ZzogeyByYXRpbmc6IDAgfSB9KSBcbiAgICAgIH0sXG4gICAgICBub3RpZmljYXRpb246IHtcbiAgICAgICAgZmluZEZpcnN0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGZpbmRNYW55OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoW10pLFxuICAgICAgICBmaW5kVW5pcXVlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGNvdW50OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoMCksIFxuICAgICAgICBjcmVhdGU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgdXBkYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIHVwZGF0ZU1hbnk6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGNvdW50OiAwIH0pLFxuICAgICAgICBkZWxldGU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgZGVsZXRlTWFueTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgY291bnQ6IDAgfSksXG4gICAgICB9LFxuICAgICAgY2F0YWxvZ3VlSXRlbToge1xuICAgICAgICBmaW5kRmlyc3Q6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgZmluZE1hbnk6ICgpID0+IFByb21pc2UucmVzb2x2ZShbXSksXG4gICAgICAgIGZpbmRVbmlxdWU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgY291bnQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSgwKSxcbiAgICAgICAgY3JlYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIHVwZGF0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICBkZWxldGU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgdXBzZXJ0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICB9LFxuICAgICAgcmV2aWV3OiB7IFxuICAgICAgICBmaW5kRmlyc3Q6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSwgXG4gICAgICAgIGZpbmRNYW55OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoW10pLCBcbiAgICAgICAgZmluZFVuaXF1ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLCBcbiAgICAgICAgY291bnQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSgwKSwgXG4gICAgICAgIGFnZ3JlZ2F0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgX3N1bTogeyBhbW91bnQ6IDAgfSwgX2F2ZzogeyByYXRpbmc6IDAgfSB9KSBcbiAgICAgIH0sXG4gICAgICBwYXlvdXQ6IHsgXG4gICAgICAgIGZpbmRGaXJzdDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLCBcbiAgICAgICAgZmluZE1hbnk6ICgpID0+IFByb21pc2UucmVzb2x2ZShbXSksIFxuICAgICAgICBmaW5kVW5pcXVlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksIFxuICAgICAgICBjb3VudDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKDApLFxuICAgICAgICBjcmVhdGU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgdXBkYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGRlbGV0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpXG4gICAgICB9LFxuICAgICAgc2VydmljZTogeyBcbiAgICAgICAgZmluZEZpcnN0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksIFxuICAgICAgICBmaW5kTWFueTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKFtdKSwgXG4gICAgICAgIGZpbmRVbmlxdWU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSwgXG4gICAgICAgIGNvdW50OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoMCkgXG4gICAgICB9LFxuICAgICAgc2VydmljZUNhdGVnb3J5OiB7IFxuICAgICAgICBmaW5kRmlyc3Q6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSwgXG4gICAgICAgIGZpbmRNYW55OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoW10pLCBcbiAgICAgICAgZmluZFVuaXF1ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLCBcbiAgICAgICAgY291bnQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSgwKSxcbiAgICAgICAgY3JlYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIHVwZGF0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICBkZWxldGU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKVxuICAgICAgfSxcbiAgICAgIHByb3ZpZGVyU2VydmljZTogeyBcbiAgICAgICAgZmluZEZpcnN0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksIFxuICAgICAgICBmaW5kTWFueTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKFtdKSwgXG4gICAgICAgIGZpbmRVbmlxdWU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSwgXG4gICAgICAgIGNvdW50OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoMCksXG4gICAgICAgIGNyZWF0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICBjcmVhdGVNYW55OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBjb3VudDogMCB9KSxcbiAgICAgICAgdXBkYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGRlbGV0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICBkZWxldGVNYW55OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBjb3VudDogMCB9KVxuICAgICAgfSxcbiAgICAgIHZlcmlmaWNhdGlvblRva2VuOiB7XG4gICAgICAgIGZpbmRGaXJzdDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICBmaW5kTWFueTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKFtdKSxcbiAgICAgICAgZmluZFVuaXF1ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICBjb3VudDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKDApLFxuICAgICAgICBjcmVhdGU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgZGVsZXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGRlbGV0ZU1hbnk6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGNvdW50OiAwIH0pLFxuICAgICAgfSxcbiAgICAgIHBhc3N3b3JkUmVzZXRUb2tlbjoge1xuICAgICAgICBmaW5kRmlyc3Q6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgZmluZE1hbnk6ICgpID0+IFByb21pc2UucmVzb2x2ZShbXSksXG4gICAgICAgIGZpbmRVbmlxdWU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgY291bnQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSgwKSxcbiAgICAgICAgY3JlYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGRlbGV0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICBkZWxldGVNYW55OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBjb3VudDogMCB9KSxcbiAgICAgIH0sXG4gICAgICBib29raW5nRHJhZnQ6IHtcbiAgICAgICAgZmluZEZpcnN0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGZpbmRNYW55OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoW10pLFxuICAgICAgICBmaW5kVW5pcXVlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGNvdW50OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoMCksXG4gICAgICAgIGNyZWF0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICB1cGRhdGU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgZGVsZXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGRlbGV0ZU1hbnk6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGNvdW50OiAwIH0pLFxuICAgICAgfSxcbiAgICAgIG5vdGlmaWNhdGlvbjoge1xuICAgICAgICBmaW5kRmlyc3Q6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgZmluZE1hbnk6ICgpID0+IFByb21pc2UucmVzb2x2ZShbXSksXG4gICAgICAgIGZpbmRVbmlxdWU6ICgpID0+IFByb21pc2UucmVzb2x2ZShudWxsKSxcbiAgICAgICAgY291bnQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSgwKSxcbiAgICAgICAgY3JlYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIHVwZGF0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKG51bGwpLFxuICAgICAgICB1cGRhdGVNYW55OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBjb3VudDogMCB9KSxcbiAgICAgICAgZGVsZXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobnVsbCksXG4gICAgICAgIGRlbGV0ZU1hbnk6ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGNvdW50OiAwIH0pLFxuICAgICAgfSxcbiAgICAgICR0cmFuc2FjdGlvbjogKGNhbGxiYWNrOiBhbnkpID0+IFByb21pc2UucmVzb2x2ZShjYWxsYmFjayh7fSkpLFxuICAgICAgJHF1ZXJ5UmF3OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoW10pLFxuICAgICAgJGV4ZWN1dGVSYXc6ICgpID0+IFByb21pc2UucmVzb2x2ZSgwKSxcbiAgICAgICRkaXNjb25uZWN0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSxcbiAgICB9O1xuICB9XG5cbiAgLy8gUmV0dXJuIHJlYWwgZGIgd3JhcHBlciB3aXRoIHJldHJ5IGxvZ2ljXG4gIHJldHVybiB7XG4gICAgLy8gVXNlciBvcGVyYXRpb25zXG4gICAgdXNlcjoge1xuICAgICAgZmluZEZpcnN0OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnVzZXIuZmluZEZpcnN0KGFyZ3MpLCAndXNlci5maW5kRmlyc3QnKSxcbiAgICAgIGZpbmRNYW55OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnVzZXIuZmluZE1hbnkoYXJncyksICd1c2VyLmZpbmRNYW55JyksXG4gICAgICBmaW5kVW5pcXVlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnVzZXIuZmluZFVuaXF1ZShhcmdzKSwgJ3VzZXIuZmluZFVuaXF1ZScpLFxuICAgICAgY291bnQ6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEudXNlci5jb3VudChhcmdzKSwgJ3VzZXIuY291bnQnKSxcbiAgICAgIHVwZGF0ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS51c2VyLnVwZGF0ZShhcmdzKSwgJ3VzZXIudXBkYXRlJyksXG4gICAgICBkZWxldGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEudXNlci5kZWxldGUoYXJncyksICd1c2VyLmRlbGV0ZScpLFxuICAgICAgY3JlYXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnVzZXIuY3JlYXRlKGFyZ3MpLCAndXNlci5jcmVhdGUnKSxcbiAgICB9LFxuICAgIFxuICAgIC8vIFByb3ZpZGVyIG9wZXJhdGlvbnNcbiAgICBwcm92aWRlcjoge1xuICAgICAgZmluZEZpcnN0OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnByb3ZpZGVyLmZpbmRGaXJzdChhcmdzKSwgJ3Byb3ZpZGVyLmZpbmRGaXJzdCcpLFxuICAgICAgZmluZE1hbnk6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucHJvdmlkZXIuZmluZE1hbnkoYXJncyksICdwcm92aWRlci5maW5kTWFueScpLFxuICAgICAgZmluZFVuaXF1ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5wcm92aWRlci5maW5kVW5pcXVlKGFyZ3MpLCAncHJvdmlkZXIuZmluZFVuaXF1ZScpLFxuICAgICAgY291bnQ6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucHJvdmlkZXIuY291bnQoYXJncyksICdwcm92aWRlci5jb3VudCcpLFxuICAgICAgY3JlYXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnByb3ZpZGVyLmNyZWF0ZShhcmdzKSwgJ3Byb3ZpZGVyLmNyZWF0ZScpLFxuICAgICAgdXBkYXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnByb3ZpZGVyLnVwZGF0ZShhcmdzKSwgJ3Byb3ZpZGVyLnVwZGF0ZScpLFxuICAgICAgZGVsZXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnByb3ZpZGVyLmRlbGV0ZShhcmdzKSwgJ3Byb3ZpZGVyLmRlbGV0ZScpLFxuICAgICAgdXBzZXJ0OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnByb3ZpZGVyLnVwc2VydChhcmdzKSwgJ3Byb3ZpZGVyLnVwc2VydCcpLFxuICAgIH0sXG4gICAgXG4gICAgLy8gQm9va2luZyBvcGVyYXRpb25zXG4gICAgYm9va2luZzoge1xuICAgICAgZmluZEZpcnN0OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLmJvb2tpbmcuZmluZEZpcnN0KGFyZ3MpLCAnYm9va2luZy5maW5kRmlyc3QnKSxcbiAgICAgIGZpbmRNYW55OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLmJvb2tpbmcuZmluZE1hbnkoYXJncyksICdib29raW5nLmZpbmRNYW55JyksXG4gICAgICBmaW5kVW5pcXVlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLmJvb2tpbmcuZmluZFVuaXF1ZShhcmdzKSwgJ2Jvb2tpbmcuZmluZFVuaXF1ZScpLFxuICAgICAgY291bnQ6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEuYm9va2luZy5jb3VudChhcmdzKSwgJ2Jvb2tpbmcuY291bnQnKSxcbiAgICAgIGNyZWF0ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5ib29raW5nLmNyZWF0ZShhcmdzKSwgJ2Jvb2tpbmcuY3JlYXRlJyksXG4gICAgICB1cGRhdGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEuYm9va2luZy51cGRhdGUoYXJncyksICdib29raW5nLnVwZGF0ZScpLFxuICAgICAgYWdncmVnYXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLmJvb2tpbmcuYWdncmVnYXRlKGFyZ3MpLCAnYm9va2luZy5hZ2dyZWdhdGUnKSxcbiAgICB9LFxuICAgIFxuICAgIC8vIFBheW1lbnQgb3BlcmF0aW9uc1xuICAgIHBheW1lbnQ6IHtcbiAgICAgIGZpbmRGaXJzdDogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5wYXltZW50LmZpbmRGaXJzdChhcmdzKSwgJ3BheW1lbnQuZmluZEZpcnN0JyksXG4gICAgICBmaW5kTWFueTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5wYXltZW50LmZpbmRNYW55KGFyZ3MpLCAncGF5bWVudC5maW5kTWFueScpLFxuICAgICAgZmluZFVuaXF1ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5wYXltZW50LmZpbmRVbmlxdWUoYXJncyksICdwYXltZW50LmZpbmRVbmlxdWUnKSxcbiAgICAgIGNvdW50OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnBheW1lbnQuY291bnQoYXJncyksICdwYXltZW50LmNvdW50JyksXG4gICAgICBjcmVhdGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucGF5bWVudC5jcmVhdGUoYXJncyksICdwYXltZW50LmNyZWF0ZScpLFxuICAgICAgdXBkYXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnBheW1lbnQudXBkYXRlKGFyZ3MpLCAncGF5bWVudC51cGRhdGUnKSxcbiAgICAgIGRlbGV0ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5wYXltZW50LmRlbGV0ZShhcmdzKSwgJ3BheW1lbnQuZGVsZXRlJyksXG4gICAgICBhZ2dyZWdhdGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucGF5bWVudC5hZ2dyZWdhdGUoYXJncyksICdwYXltZW50LmFnZ3JlZ2F0ZScpLFxuICAgIH0sXG4gICAgXG4gICAgLy8gUmV2aWV3IG9wZXJhdGlvbnNcbiAgICByZXZpZXc6IHtcbiAgICAgIGZpbmRGaXJzdDogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5yZXZpZXcuZmluZEZpcnN0KGFyZ3MpLCAncmV2aWV3LmZpbmRGaXJzdCcpLFxuICAgICAgZmluZE1hbnk6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucmV2aWV3LmZpbmRNYW55KGFyZ3MpLCAncmV2aWV3LmZpbmRNYW55JyksXG4gICAgICBmaW5kVW5pcXVlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnJldmlldy5maW5kVW5pcXVlKGFyZ3MpLCAncmV2aWV3LmZpbmRVbmlxdWUnKSxcbiAgICAgIGNvdW50OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnJldmlldy5jb3VudChhcmdzKSwgJ3Jldmlldy5jb3VudCcpLFxuICAgICAgYWdncmVnYXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnJldmlldy5hZ2dyZWdhdGUoYXJncyksICdyZXZpZXcuYWdncmVnYXRlJyksXG4gICAgfSxcbiAgICBcbiAgICAvLyBOb3RpZmljYXRpb24gb3BlcmF0aW9uc1xuICAgIG5vdGlmaWNhdGlvbjoge1xuICAgICAgZmluZEZpcnN0OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLm5vdGlmaWNhdGlvbi5maW5kRmlyc3QoYXJncyksICdub3RpZmljYXRpb24uZmluZEZpcnN0JyksXG4gICAgICBmaW5kTWFueTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5ub3RpZmljYXRpb24uZmluZE1hbnkoYXJncyksICdub3RpZmljYXRpb24uZmluZE1hbnknKSxcbiAgICAgIGZpbmRVbmlxdWU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEubm90aWZpY2F0aW9uLmZpbmRVbmlxdWUoYXJncyksICdub3RpZmljYXRpb24uZmluZFVuaXF1ZScpLFxuICAgICAgY291bnQ6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEubm90aWZpY2F0aW9uLmNvdW50KGFyZ3MpLCAnbm90aWZpY2F0aW9uLmNvdW50JyksXG4gICAgICBjcmVhdGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEubm90aWZpY2F0aW9uLmNyZWF0ZShhcmdzKSwgJ25vdGlmaWNhdGlvbi5jcmVhdGUnKSxcbiAgICAgIHVwZGF0ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5ub3RpZmljYXRpb24udXBkYXRlKGFyZ3MpLCAnbm90aWZpY2F0aW9uLnVwZGF0ZScpLFxuICAgICAgdXBkYXRlTWFueTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5ub3RpZmljYXRpb24udXBkYXRlTWFueShhcmdzKSwgJ25vdGlmaWNhdGlvbi51cGRhdGVNYW55JyksXG4gICAgICBkZWxldGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEubm90aWZpY2F0aW9uLmRlbGV0ZShhcmdzKSwgJ25vdGlmaWNhdGlvbi5kZWxldGUnKSxcbiAgICAgIGRlbGV0ZU1hbnk6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEubm90aWZpY2F0aW9uLmRlbGV0ZU1hbnkoYXJncyksICdub3RpZmljYXRpb24uZGVsZXRlTWFueScpLFxuICAgIH0sXG4gICAgXG4gICAgLy8gUGF5b3V0IG9wZXJhdGlvbnNcbiAgICBwYXlvdXQ6IHtcbiAgICAgIGZpbmRGaXJzdDogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5wYXlvdXQuZmluZEZpcnN0KGFyZ3MpLCAncGF5b3V0LmZpbmRGaXJzdCcpLFxuICAgICAgZmluZE1hbnk6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucGF5b3V0LmZpbmRNYW55KGFyZ3MpLCAncGF5b3V0LmZpbmRNYW55JyksXG4gICAgICBmaW5kVW5pcXVlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnBheW91dC5maW5kVW5pcXVlKGFyZ3MpLCAncGF5b3V0LmZpbmRVbmlxdWUnKSxcbiAgICAgIGNvdW50OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnBheW91dC5jb3VudChhcmdzKSwgJ3BheW91dC5jb3VudCcpLFxuICAgICAgY3JlYXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnBheW91dC5jcmVhdGUoYXJncyksICdwYXlvdXQuY3JlYXRlJyksXG4gICAgICB1cGRhdGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucGF5b3V0LnVwZGF0ZShhcmdzKSwgJ3BheW91dC51cGRhdGUnKSxcbiAgICAgIGRlbGV0ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5wYXlvdXQuZGVsZXRlKGFyZ3MpLCAncGF5b3V0LmRlbGV0ZScpLFxuICAgIH0sXG4gICAgXG4gICAgLy8gU2VydmljZSBvcGVyYXRpb25zXG4gICAgc2VydmljZToge1xuICAgICAgZmluZEZpcnN0OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnNlcnZpY2UuZmluZEZpcnN0KGFyZ3MpLCAnc2VydmljZS5maW5kRmlyc3QnKSxcbiAgICAgIGZpbmRNYW55OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnNlcnZpY2UuZmluZE1hbnkoYXJncyksICdzZXJ2aWNlLmZpbmRNYW55JyksXG4gICAgICBmaW5kVW5pcXVlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnNlcnZpY2UuZmluZFVuaXF1ZShhcmdzKSwgJ3NlcnZpY2UuZmluZFVuaXF1ZScpLFxuICAgICAgY291bnQ6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEuc2VydmljZS5jb3VudChhcmdzKSwgJ3NlcnZpY2UuY291bnQnKSxcbiAgICB9LFxuXG4gICAgLy8gU2VydmljZUNhdGVnb3J5IG9wZXJhdGlvbnNcbiAgICBzZXJ2aWNlQ2F0ZWdvcnk6IHtcbiAgICAgIGZpbmRGaXJzdDogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5zZXJ2aWNlQ2F0ZWdvcnkuZmluZEZpcnN0KGFyZ3MpLCAnc2VydmljZUNhdGVnb3J5LmZpbmRGaXJzdCcpLFxuICAgICAgZmluZE1hbnk6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEuc2VydmljZUNhdGVnb3J5LmZpbmRNYW55KGFyZ3MpLCAnc2VydmljZUNhdGVnb3J5LmZpbmRNYW55JyksXG4gICAgICBmaW5kVW5pcXVlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnNlcnZpY2VDYXRlZ29yeS5maW5kVW5pcXVlKGFyZ3MpLCAnc2VydmljZUNhdGVnb3J5LmZpbmRVbmlxdWUnKSxcbiAgICAgIGNvdW50OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnNlcnZpY2VDYXRlZ29yeS5jb3VudChhcmdzKSwgJ3NlcnZpY2VDYXRlZ29yeS5jb3VudCcpLFxuICAgICAgY3JlYXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnNlcnZpY2VDYXRlZ29yeS5jcmVhdGUoYXJncyksICdzZXJ2aWNlQ2F0ZWdvcnkuY3JlYXRlJyksXG4gICAgICB1cGRhdGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEuc2VydmljZUNhdGVnb3J5LnVwZGF0ZShhcmdzKSwgJ3NlcnZpY2VDYXRlZ29yeS51cGRhdGUnKSxcbiAgICAgIGRlbGV0ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5zZXJ2aWNlQ2F0ZWdvcnkuZGVsZXRlKGFyZ3MpLCAnc2VydmljZUNhdGVnb3J5LmRlbGV0ZScpLFxuICAgIH0sXG5cbiAgICAvLyBQcm92aWRlclNlcnZpY2Ugb3BlcmF0aW9uc1xuICAgIHByb3ZpZGVyU2VydmljZToge1xuICAgICAgZmluZEZpcnN0OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnByb3ZpZGVyU2VydmljZS5maW5kRmlyc3QoYXJncyksICdwcm92aWRlclNlcnZpY2UuZmluZEZpcnN0JyksXG4gICAgICBmaW5kTWFueTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5wcm92aWRlclNlcnZpY2UuZmluZE1hbnkoYXJncyksICdwcm92aWRlclNlcnZpY2UuZmluZE1hbnknKSxcbiAgICAgIGZpbmRVbmlxdWU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucHJvdmlkZXJTZXJ2aWNlLmZpbmRVbmlxdWUoYXJncyksICdwcm92aWRlclNlcnZpY2UuZmluZFVuaXF1ZScpLFxuICAgICAgY291bnQ6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucHJvdmlkZXJTZXJ2aWNlLmNvdW50KGFyZ3MpLCAncHJvdmlkZXJTZXJ2aWNlLmNvdW50JyksXG4gICAgICBjcmVhdGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucHJvdmlkZXJTZXJ2aWNlLmNyZWF0ZShhcmdzKSwgJ3Byb3ZpZGVyU2VydmljZS5jcmVhdGUnKSxcbiAgICAgIGNyZWF0ZU1hbnk6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucHJvdmlkZXJTZXJ2aWNlLmNyZWF0ZU1hbnkoYXJncyksICdwcm92aWRlclNlcnZpY2UuY3JlYXRlTWFueScpLFxuICAgICAgdXBkYXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnByb3ZpZGVyU2VydmljZS51cGRhdGUoYXJncyksICdwcm92aWRlclNlcnZpY2UudXBkYXRlJyksXG4gICAgICBkZWxldGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucHJvdmlkZXJTZXJ2aWNlLmRlbGV0ZShhcmdzKSwgJ3Byb3ZpZGVyU2VydmljZS5kZWxldGUnKSxcbiAgICAgIGRlbGV0ZU1hbnk6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucHJvdmlkZXJTZXJ2aWNlLmRlbGV0ZU1hbnkoYXJncyksICdwcm92aWRlclNlcnZpY2UuZGVsZXRlTWFueScpLFxuICAgIH0sXG4gICAgXG5cbiAgICAvLyBWZXJpZmljYXRpb25Ub2tlbiBvcGVyYXRpb25zXG4gICAgdmVyaWZpY2F0aW9uVG9rZW46IHtcbiAgICAgIGZpbmRGaXJzdDogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS52ZXJpZmljYXRpb25Ub2tlbi5maW5kRmlyc3QoYXJncyksICd2ZXJpZmljYXRpb25Ub2tlbi5maW5kRmlyc3QnKSxcbiAgICAgIGZpbmRNYW55OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnZlcmlmaWNhdGlvblRva2VuLmZpbmRNYW55KGFyZ3MpLCAndmVyaWZpY2F0aW9uVG9rZW4uZmluZE1hbnknKSxcbiAgICAgIGZpbmRVbmlxdWU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEudmVyaWZpY2F0aW9uVG9rZW4uZmluZFVuaXF1ZShhcmdzKSwgJ3ZlcmlmaWNhdGlvblRva2VuLmZpbmRVbmlxdWUnKSxcbiAgICAgIGNvdW50OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnZlcmlmaWNhdGlvblRva2VuLmNvdW50KGFyZ3MpLCAndmVyaWZpY2F0aW9uVG9rZW4uY291bnQnKSxcbiAgICAgIGNyZWF0ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS52ZXJpZmljYXRpb25Ub2tlbi5jcmVhdGUoYXJncyksICd2ZXJpZmljYXRpb25Ub2tlbi5jcmVhdGUnKSxcbiAgICAgIGRlbGV0ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS52ZXJpZmljYXRpb25Ub2tlbi5kZWxldGUoYXJncyksICd2ZXJpZmljYXRpb25Ub2tlbi5kZWxldGUnKSxcbiAgICAgIGRlbGV0ZU1hbnk6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEudmVyaWZpY2F0aW9uVG9rZW4uZGVsZXRlTWFueShhcmdzKSwgJ3ZlcmlmaWNhdGlvblRva2VuLmRlbGV0ZU1hbnknKSxcbiAgICB9LFxuXG4gICAgLy8gUGFzc3dvcmRSZXNldFRva2VuIG9wZXJhdGlvbnNcbiAgICBwYXNzd29yZFJlc2V0VG9rZW46IHtcbiAgICAgIGZpbmRGaXJzdDogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5wYXNzd29yZFJlc2V0VG9rZW4uZmluZEZpcnN0KGFyZ3MpLCAncGFzc3dvcmRSZXNldFRva2VuLmZpbmRGaXJzdCcpLFxuICAgICAgZmluZE1hbnk6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucGFzc3dvcmRSZXNldFRva2VuLmZpbmRNYW55KGFyZ3MpLCAncGFzc3dvcmRSZXNldFRva2VuLmZpbmRNYW55JyksXG4gICAgICBmaW5kVW5pcXVlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnBhc3N3b3JkUmVzZXRUb2tlbi5maW5kVW5pcXVlKGFyZ3MpLCAncGFzc3dvcmRSZXNldFRva2VuLmZpbmRVbmlxdWUnKSxcbiAgICAgIGNvdW50OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnBhc3N3b3JkUmVzZXRUb2tlbi5jb3VudChhcmdzKSwgJ3Bhc3N3b3JkUmVzZXRUb2tlbi5jb3VudCcpLFxuICAgICAgY3JlYXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLnBhc3N3b3JkUmVzZXRUb2tlbi5jcmVhdGUoYXJncyksICdwYXNzd29yZFJlc2V0VG9rZW4uY3JlYXRlJyksXG4gICAgICBkZWxldGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucGFzc3dvcmRSZXNldFRva2VuLmRlbGV0ZShhcmdzKSwgJ3Bhc3N3b3JkUmVzZXRUb2tlbi5kZWxldGUnKSxcbiAgICAgIGRlbGV0ZU1hbnk6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEucGFzc3dvcmRSZXNldFRva2VuLmRlbGV0ZU1hbnkoYXJncyksICdwYXNzd29yZFJlc2V0VG9rZW4uZGVsZXRlTWFueScpLFxuICAgIH0sXG5cbiAgICAvLyBCb29raW5nRHJhZnQgb3BlcmF0aW9uc1xuICAgIGJvb2tpbmdEcmFmdDoge1xuICAgICAgZmluZEZpcnN0OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLmJvb2tpbmdEcmFmdC5maW5kRmlyc3QoYXJncyksICdib29raW5nRHJhZnQuZmluZEZpcnN0JyksXG4gICAgICBmaW5kTWFueTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5ib29raW5nRHJhZnQuZmluZE1hbnkoYXJncyksICdib29raW5nRHJhZnQuZmluZE1hbnknKSxcbiAgICAgIGZpbmRVbmlxdWU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEuYm9va2luZ0RyYWZ0LmZpbmRVbmlxdWUoYXJncyksICdib29raW5nRHJhZnQuZmluZFVuaXF1ZScpLFxuICAgICAgY291bnQ6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEuYm9va2luZ0RyYWZ0LmNvdW50KGFyZ3MpLCAnYm9va2luZ0RyYWZ0LmNvdW50JyksXG4gICAgICBjcmVhdGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEuYm9va2luZ0RyYWZ0LmNyZWF0ZShhcmdzKSwgJ2Jvb2tpbmdEcmFmdC5jcmVhdGUnKSxcbiAgICAgIHVwZGF0ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5ib29raW5nRHJhZnQudXBkYXRlKGFyZ3MpLCAnYm9va2luZ0RyYWZ0LnVwZGF0ZScpLFxuICAgICAgZGVsZXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLmJvb2tpbmdEcmFmdC5kZWxldGUoYXJncyksICdib29raW5nRHJhZnQuZGVsZXRlJyksXG4gICAgICBkZWxldGVNYW55OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLmJvb2tpbmdEcmFmdC5kZWxldGVNYW55KGFyZ3MpLCAnYm9va2luZ0RyYWZ0LmRlbGV0ZU1hbnknKSxcbiAgICB9LFxuICAgIFxuICAgIC8vIENhdGFsb2d1ZUl0ZW0gb3BlcmF0aW9uc1xuICAgIGNhdGFsb2d1ZUl0ZW06IHtcbiAgICAgIGZpbmRGaXJzdDogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5jYXRhbG9ndWVJdGVtLmZpbmRGaXJzdChhcmdzKSwgJ2NhdGFsb2d1ZUl0ZW0uZmluZEZpcnN0JyksXG4gICAgICBmaW5kTWFueTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5jYXRhbG9ndWVJdGVtLmZpbmRNYW55KGFyZ3MpLCAnY2F0YWxvZ3VlSXRlbS5maW5kTWFueScpLFxuICAgICAgZmluZFVuaXF1ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5jYXRhbG9ndWVJdGVtLmZpbmRVbmlxdWUoYXJncyksICdjYXRhbG9ndWVJdGVtLmZpbmRVbmlxdWUnKSxcbiAgICAgIGNvdW50OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLmNhdGFsb2d1ZUl0ZW0uY291bnQoYXJncyksICdjYXRhbG9ndWVJdGVtLmNvdW50JyksXG4gICAgICBjcmVhdGU6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEuY2F0YWxvZ3VlSXRlbS5jcmVhdGUoYXJncyksICdjYXRhbG9ndWVJdGVtLmNyZWF0ZScpLFxuICAgICAgdXBkYXRlOiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLmNhdGFsb2d1ZUl0ZW0udXBkYXRlKGFyZ3MpLCAnY2F0YWxvZ3VlSXRlbS51cGRhdGUnKSxcbiAgICAgIGRlbGV0ZTogKGFyZ3M6IGFueSkgPT4gd2l0aFJldHJ5KCgpID0+IHByaXNtYS5jYXRhbG9ndWVJdGVtLmRlbGV0ZShhcmdzKSwgJ2NhdGFsb2d1ZUl0ZW0uZGVsZXRlJyksXG4gICAgICB1cHNlcnQ6IChhcmdzOiBhbnkpID0+IHdpdGhSZXRyeSgoKSA9PiBwcmlzbWEuY2F0YWxvZ3VlSXRlbS51cHNlcnQoYXJncyksICdjYXRhbG9ndWVJdGVtLnVwc2VydCcpLFxuICAgIH0sXG4gICAgXG4gICAgLy8gVHJhbnNhY3Rpb24gb3BlcmF0aW9uc1xuICAgICR0cmFuc2FjdGlvbjogYXN5bmMgKGNhbGxiYWNrOiBhbnkpID0+IHtcbiAgICAgIC8vIEZvciB0cmFuc2FjdGlvbnMsIHdlIG5lZWQgdG8gaGFuZGxlIHJldHJpZXMgZGlmZmVyZW50bHlcbiAgICAgIC8vIGJlY2F1c2UgdGhlIGNhbGxiYWNrIG5lZWRzIHRvIHJlY2VpdmUgdGhlIHRyYW5zYWN0aW9uIG9iamVjdFxuICAgICAgbGV0IGxhc3RFcnJvcjogYW55O1xuICAgICAgXG4gICAgICBmb3IgKGxldCBhdHRlbXB0ID0gMTsgYXR0ZW1wdCA8PSBSRVRSWV9DT05GSUcubWF4QXR0ZW1wdHM7IGF0dGVtcHQrKykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBwcmlzbWEuJHRyYW5zYWN0aW9uKGNhbGxiYWNrKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBsYXN0RXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoYXR0ZW1wdCA9PT0gUkVUUllfQ09ORklHLm1heEF0dGVtcHRzIHx8ICFpc1JldHJ5YWJsZUVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIGRiLiR0cmFuc2FjdGlvbiBmYWlsZWQgYWZ0ZXIgJHthdHRlbXB0fSBhdHRlbXB0czpgLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gZGIuJHRyYW5zYWN0aW9uIGZhaWxlZCAoYXR0ZW1wdCAke2F0dGVtcHR9LyR7UkVUUllfQ09ORklHLm1heEF0dGVtcHRzfSksIHJldHJ5aW5nLi4uYCwgZXJyb3IpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFdhaXQgYmVmb3JlIHJldHJ5aW5nXG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGdldERlbGF5KGF0dGVtcHQpKSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRm9yIGNvbm5lY3Rpb24gZXJyb3JzLCB0cnkgdG8gcmVmcmVzaCB0aGUgY29ubmVjdGlvblxuICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlICYmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdwcmVwYXJlZCBzdGF0ZW1lbnQnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdFbmdpbmUgaXMgbm90IHlldCBjb25uZWN0ZWQnKSB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdjb25uZWN0aW9uIHBvb2wnKSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEF0dGVtcHRpbmcgdG8gcmVmcmVzaCBQcmlzbWEgY29ubmVjdGlvbi4uLicpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYXdhaXQgcHJpc21hLiRkaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgIGF3YWl0IHByaXNtYS4kY29ubmVjdCgpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFByaXNtYSBjb25uZWN0aW9uIHJlZnJlc2hlZCcpO1xuICAgICAgICAgICAgfSBjYXRjaCAocmVmcmVzaEVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEZhaWxlZCB0byByZWZyZXNoIFByaXNtYSBjb25uZWN0aW9uOicsIHJlZnJlc2hFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRocm93IGxhc3RFcnJvcjtcbiAgICB9LFxuICAgIFxuICAgIC8vIFJhdyBxdWVyeSBvcGVyYXRpb25zXG4gICAgJHF1ZXJ5UmF3OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLiRxdWVyeVJhdyhhcmdzKSwgJ2RiLiRxdWVyeVJhdycpLFxuICAgICRleGVjdXRlUmF3OiAoYXJnczogYW55KSA9PiB3aXRoUmV0cnkoKCkgPT4gcHJpc21hLiRleGVjdXRlUmF3KGFyZ3MpLCAnZGIuJGV4ZWN1dGVSYXcnKSxcbiAgICAkZGlzY29ubmVjdDogKCkgPT4gcHJpc21hLiRkaXNjb25uZWN0KCksXG4gIH07XG59O1xuXG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgZGF0YWJhc2Ugd3JhcHBlclxuZXhwb3J0IGNvbnN0IGRiID0gY3JlYXRlRGJXcmFwcGVyKCk7Il0sIm5hbWVzIjpbInByaXNtYSIsIlJFVFJZX0NPTkZJRyIsIm1heEF0dGVtcHRzIiwiYmFzZURlbGF5IiwibWF4RGVsYXkiLCJnZXREZWxheSIsImF0dGVtcHQiLCJkZWxheSIsIk1hdGgiLCJwb3ciLCJtaW4iLCJpc1JldHJ5YWJsZUVycm9yIiwiZXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImluY2x1ZGVzIiwid2l0aFJldHJ5Iiwib3BlcmF0aW9uIiwiY29udGV4dCIsIkVycm9yIiwibGFzdEVycm9yIiwiY29uc29sZSIsIndhcm4iLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJsb2ciLCIkZGlzY29ubmVjdCIsIiRjb25uZWN0IiwicmVmcmVzaEVycm9yIiwiY3JlYXRlRGJXcmFwcGVyIiwidXNlciIsImZpbmRGaXJzdCIsImZpbmRNYW55IiwiZmluZFVuaXF1ZSIsImNvdW50IiwidXBkYXRlIiwiZGVsZXRlIiwiY3JlYXRlIiwicHJvdmlkZXIiLCJ1cHNlcnQiLCJib29raW5nIiwiYWdncmVnYXRlIiwiX3N1bSIsInRvdGFsQW1vdW50IiwiX2F2ZyIsInBheW1lbnQiLCJhbW91bnQiLCJyYXRpbmciLCJub3RpZmljYXRpb24iLCJ1cGRhdGVNYW55IiwiZGVsZXRlTWFueSIsImNhdGFsb2d1ZUl0ZW0iLCJyZXZpZXciLCJwYXlvdXQiLCJzZXJ2aWNlIiwic2VydmljZUNhdGVnb3J5IiwicHJvdmlkZXJTZXJ2aWNlIiwiY3JlYXRlTWFueSIsInZlcmlmaWNhdGlvblRva2VuIiwicGFzc3dvcmRSZXNldFRva2VuIiwiYm9va2luZ0RyYWZ0IiwiJHRyYW5zYWN0aW9uIiwiY2FsbGJhY2siLCIkcXVlcnlSYXciLCIkZXhlY3V0ZVJhdyIsImFyZ3MiLCJkYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db-utils.ts\n");

/***/ }),

/***/ "(rsc)/./lib/notification-service.ts":
/*!*************************************!*\
  !*** ./lib/notification-service.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NotificationTemplates: () => (/* binding */ NotificationTemplates),\n/* harmony export */   cleanupOldNotifications: () => (/* binding */ cleanupOldNotifications),\n/* harmony export */   createBulkNotifications: () => (/* binding */ createBulkNotifications),\n/* harmony export */   createNotification: () => (/* binding */ createNotification),\n/* harmony export */   getUnreadNotificationCount: () => (/* binding */ getUnreadNotificationCount),\n/* harmony export */   getUserNotifications: () => (/* binding */ getUserNotifications),\n/* harmony export */   markAllNotificationsAsRead: () => (/* binding */ markAllNotificationsAsRead),\n/* harmony export */   markNotificationAsRead: () => (/* binding */ markNotificationAsRead)\n/* harmony export */ });\n/* harmony import */ var _lib_db_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/db-utils */ \"(rsc)/./lib/db-utils.ts\");\n\n/**\n * Create a notification for a user\n */ async function createNotification(data) {\n    try {\n        const notification = await _lib_db_utils__WEBPACK_IMPORTED_MODULE_0__.db.notification.create({\n            data: {\n                userId: data.userId,\n                type: data.type,\n                title: data.title,\n                message: data.content,\n                isRead: false\n            },\n            include: {\n                user: {\n                    select: {\n                        id: true,\n                        name: true,\n                        email: true\n                    }\n                }\n            }\n        });\n        console.log(`üîî Notification created: ${data.type} for user ${data.userId}`);\n        return notification;\n    } catch (error) {\n        console.error(\"‚ùå Failed to create notification:\", error);\n        throw error;\n    }\n}\n/**\n * Create multiple notifications at once\n */ async function createBulkNotifications(notifications) {\n    try {\n        const createdNotifications = await Promise.all(notifications.map((notification)=>createNotification(notification)));\n        console.log(`üîî Created ${createdNotifications.length} notifications`);\n        return createdNotifications;\n    } catch (error) {\n        console.error(\"‚ùå Failed to create bulk notifications:\", error);\n        throw error;\n    }\n}\n/**\n * Get notifications for a user\n */ async function getUserNotifications(userId, limit = 50) {\n    try {\n        const notifications = await _lib_db_utils__WEBPACK_IMPORTED_MODULE_0__.db.notification.findMany({\n            where: {\n                userId\n            },\n            orderBy: {\n                createdAt: \"desc\"\n            },\n            take: limit,\n            include: {\n                user: {\n                    select: {\n                        id: true,\n                        name: true,\n                        email: true\n                    }\n                }\n            }\n        });\n        return notifications;\n    } catch (error) {\n        console.error(\"‚ùå Failed to get user notifications:\", error);\n        throw error;\n    }\n}\n/**\n * Mark notification as read\n */ async function markNotificationAsRead(notificationId, userId) {\n    try {\n        const notification = await _lib_db_utils__WEBPACK_IMPORTED_MODULE_0__.db.notification.updateMany({\n            where: {\n                id: notificationId,\n                userId: userId\n            },\n            data: {\n                isRead: true\n            }\n        });\n        return notification;\n    } catch (error) {\n        console.error(\"‚ùå Failed to mark notification as read:\", error);\n        throw error;\n    }\n}\n/**\n * Mark all notifications as read for a user\n */ async function markAllNotificationsAsRead(userId) {\n    try {\n        const result = await _lib_db_utils__WEBPACK_IMPORTED_MODULE_0__.db.notification.updateMany({\n            where: {\n                userId: userId,\n                isRead: false\n            },\n            data: {\n                isRead: true\n            }\n        });\n        console.log(`üîî Marked ${result.count} notifications as read for user ${userId}`);\n        return result;\n    } catch (error) {\n        console.error(\"‚ùå Failed to mark all notifications as read:\", error);\n        throw error;\n    }\n}\n/**\n * Get unread notification count for a user\n */ async function getUnreadNotificationCount(userId) {\n    try {\n        const count = await _lib_db_utils__WEBPACK_IMPORTED_MODULE_0__.db.notification.count({\n            where: {\n                userId: userId,\n                isRead: false\n            }\n        });\n        return count;\n    } catch (error) {\n        console.error(\"‚ùå Failed to get unread notification count:\", error);\n        return 0;\n    }\n}\n/**\n * Delete old notifications (cleanup)\n */ async function cleanupOldNotifications(daysOld = 30) {\n    try {\n        const cutoffDate = new Date();\n        cutoffDate.setDate(cutoffDate.getDate() - daysOld);\n        const result = await _lib_db_utils__WEBPACK_IMPORTED_MODULE_0__.db.notification.deleteMany({\n            where: {\n                createdAt: {\n                    lt: cutoffDate\n                },\n                isRead: true\n            }\n        });\n        console.log(`üßπ Cleaned up ${result.count} old notifications`);\n        return result;\n    } catch (error) {\n        console.error(\"‚ùå Failed to cleanup old notifications:\", error);\n        throw error;\n    }\n}\n/**\n * Notification templates for different actions\n */ const NotificationTemplates = {\n    BOOKING_CREATED: (booking)=>({\n            type: \"BOOKING_CREATED\",\n            title: \"New Booking Request\",\n            content: `You have a new booking request for ${booking.service?.name || \"service\"} from ${booking.client?.name || \"a client\"}. Please review and respond.`\n        }),\n    BOOKING_ACCEPTED: (booking)=>({\n            type: \"BOOKING_ACCEPTED\",\n            title: \"Booking Accepted!\",\n            content: `Great news! Your booking for ${booking.service?.name || \"service\"} has been accepted by ${booking.provider?.businessName || \"the provider\"}. You can now proceed with payment.`\n        }),\n    BOOKING_DECLINED: (booking)=>({\n            type: \"BOOKING_DECLINED\",\n            title: \"Booking Declined\",\n            content: `Unfortunately, your booking for ${booking.service?.name || \"service\"} was declined. Don't worry, you can try booking with another provider.`\n        }),\n    BOOKING_CANCELLED: (booking, cancelledBy)=>({\n            type: \"BOOKING_CANCELLED\",\n            title: \"Booking Cancelled\",\n            content: `Your booking for ${booking.service?.name || \"service\"} has been cancelled by ${cancelledBy === \"client\" ? \"the client\" : \"the provider\"}.`\n        }),\n    PAYMENT_RECEIVED: (booking)=>({\n            type: \"PAYMENT_RECEIVED\",\n            title: \"Payment Received\",\n            content: `Payment received for ${booking.service?.name || \"your service\"} - Booking #${booking.id}. You can now start the job!`\n        }),\n    PAYMENT_FAILED: (booking)=>({\n            type: \"PAYMENT_FAILED\",\n            title: \"Payment Failed\",\n            content: `Payment failed for ${booking.service?.name || \"service\"} - Booking #${booking.id}. Please try again or contact support.`\n        }),\n    JOB_STARTED: (booking)=>({\n            type: \"JOB_STARTED\",\n            title: \"Job Started\",\n            content: `Great news! ${booking.provider?.businessName || \"The provider\"} has started working on your ${booking.service?.name || \"service\"}.`\n        }),\n    JOB_COMPLETED: (booking)=>({\n            type: \"JOB_COMPLETED\",\n            title: \"Job Completed\",\n            content: `Your ${booking.service?.name || \"service\"} has been completed! Please review the work and confirm completion to release payment.`\n        }),\n    DISPUTE_CREATED: (booking, disputeType)=>({\n            type: \"DISPUTE_CREATED\",\n            title: \"Dispute Created\",\n            content: `A dispute has been created for booking #${booking.id} regarding ${disputeType}. Our team will review and resolve this issue.`\n        }),\n    DISPUTE_RESOLVED: (booking, resolution)=>({\n            type: \"DISPUTE_RESOLVED\",\n            title: \"Dispute Resolved\",\n            content: `The dispute for booking #${booking.id} has been resolved: ${resolution}`\n        }),\n    REVIEW_SUBMITTED: (booking, rating)=>({\n            type: \"REVIEW_SUBMITTED\",\n            title: \"Review Submitted\",\n            content: `A ${rating}-star review has been submitted for your service on booking #${booking.id}.`\n        }),\n    PAYMENT_RELEASED: (booking, amount)=>({\n            type: \"PAYMENT_RELEASED\",\n            title: \"Payment Released\",\n            content: `Payment of R${amount.toFixed(2)} has been released for booking #${booking.id}. The funds should appear in your account within 1-3 business days.`\n        }),\n    ESCROW_RELEASED: (booking, amount)=>({\n            type: \"ESCROW_RELEASED\",\n            title: \"Escrow Released\",\n            content: `Escrow payment of R${amount.toFixed(2)} has been released for booking #${booking.id}.`\n        }),\n    CATALOGUE_SETUP_REQUIRED: (provider, packageCount)=>({\n            type: \"CATALOGUE_SETUP_REQUIRED\",\n            title: \"\\uD83C\\uDF89 Your Service Packages Are Ready!\",\n            content: `We've created ${packageCount} starter packages for your services. Customize them now to start receiving bookings!`\n        }),\n    CATALOGUE_SETUP_COMPLETED: (provider, completionTime)=>({\n            type: \"CATALOGUE_SETUP_COMPLETED\",\n            title: \"\\uD83C\\uDF89 Setup Complete - You're Ready to Earn!\",\n            content: `Congratulations! You completed your service packages setup in ${completionTime}. You're now live and ready to receive bookings!`\n        }),\n    CATALOGUE_SETUP_REMINDER: (provider, daysSince)=>({\n            type: \"CATALOGUE_SETUP_REMINDER\",\n            title: \"\\uD83D\\uDCA1 Complete Your Service Packages\",\n            content: `Don't miss out on bookings! Complete your service packages setup to start earning. It's been ${daysSince} days since your packages were created.`\n        })\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixlQUEwQjtZQUNsRXJFLE1BQU07WUFDTkMsT0FBTztZQUNQRSxTQUFTLENBQUMsY0FBYyxFQUFFa0UsYUFBYSxvRkFBb0YsQ0FBQztRQUM5SDtJQUVBQywyQkFBMkIsQ0FBQ3JCLFVBQWVzQixpQkFBNEI7WUFDckV2RSxNQUFNO1lBQ05DLE9BQU87WUFDUEUsU0FBUyxDQUFDLDhEQUE4RCxFQUFFb0UsZUFBZSxnREFBZ0QsQ0FBQztRQUM1STtJQUVBQywwQkFBMEIsQ0FBQ3ZCLFVBQWV3QixZQUF1QjtZQUMvRHpFLE1BQU07WUFDTkMsT0FBTztZQUNQRSxTQUFTLENBQUMsNkZBQTZGLEVBQUVzRSxVQUFVLHVDQUF1QyxDQUFDO1FBQzdKO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9saWIvbm90aWZpY2F0aW9uLXNlcnZpY2UudHM/NjllOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkYiB9IGZyb20gXCJAL2xpYi9kYi11dGlsc1wiXG5cbmV4cG9ydCB0eXBlIE5vdGlmaWNhdGlvblR5cGUgPSBcbiAgfCAnQk9PS0lOR19DUkVBVEVEJ1xuICB8ICdCT09LSU5HX0FDQ0VQVEVEJ1xuICB8ICdCT09LSU5HX0RFQ0xJTkVEJ1xuICB8ICdCT09LSU5HX0NBTkNFTExFRCdcbiAgfCAnUEFZTUVOVF9SRUNFSVZFRCdcbiAgfCAnUEFZTUVOVF9GQUlMRUQnXG4gIHwgJ0pPQl9TVEFSVEVEJ1xuICB8ICdKT0JfQ09NUExFVEVEJ1xuICB8ICdKT0JfQ0FOQ0VMTEVEJ1xuICB8ICdESVNQVVRFX0NSRUFURUQnXG4gIHwgJ0RJU1BVVEVfUkVTT0xWRUQnXG4gIHwgJ1JFVklFV19TVUJNSVRURUQnXG4gIHwgJ1BBWU1FTlRfUkVMRUFTRUQnXG4gIHwgJ0VTQ1JPV19SRUxFQVNFRCdcbiAgfCAnQ0FUQUxPR1VFX1NFVFVQX1JFUVVJUkVEJ1xuICB8ICdDQVRBTE9HVUVfU0VUVVBfQ09NUExFVEVEJ1xuICB8ICdDQVRBTE9HVUVfU0VUVVBfUkVNSU5ERVInXG5cbmV4cG9ydCBpbnRlcmZhY2UgTm90aWZpY2F0aW9uRGF0YSB7XG4gIHVzZXJJZDogc3RyaW5nXG4gIHR5cGU6IE5vdGlmaWNhdGlvblR5cGVcbiAgdGl0bGU6IHN0cmluZ1xuICBjb250ZW50OiBzdHJpbmdcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm90aWZpY2F0aW9uV2l0aFVzZXIge1xuICBpZDogc3RyaW5nXG4gIHVzZXJJZDogc3RyaW5nXG4gIHR5cGU6IHN0cmluZ1xuICB0aXRsZTogc3RyaW5nXG4gIGNvbnRlbnQ6IHN0cmluZ1xuICBpc1JlYWQ6IGJvb2xlYW5cbiAgY3JlYXRlZEF0OiBEYXRlXG4gIHVzZXI6IHtcbiAgICBpZDogc3RyaW5nXG4gICAgbmFtZTogc3RyaW5nXG4gICAgZW1haWw6IHN0cmluZ1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbm90aWZpY2F0aW9uIGZvciBhIHVzZXJcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5vdGlmaWNhdGlvbihkYXRhOiBOb3RpZmljYXRpb25EYXRhKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgbm90aWZpY2F0aW9uID0gYXdhaXQgZGIubm90aWZpY2F0aW9uLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXJJZDogZGF0YS51c2VySWQsXG4gICAgICAgIHR5cGU6IGRhdGEudHlwZSxcbiAgICAgICAgdGl0bGU6IGRhdGEudGl0bGUsXG4gICAgICAgIG1lc3NhZ2U6IGRhdGEuY29udGVudCwgLy8gRGF0YWJhc2UgdXNlcyAnbWVzc2FnZScgZmllbGQsIGJ1dCBpbnRlcmZhY2UgdXNlcyAnY29udGVudCdcbiAgICAgICAgaXNSZWFkOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgaWQ6IHRydWUsXG4gICAgICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICAgICAgZW1haWw6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc29sZS5sb2coYPCflJQgTm90aWZpY2F0aW9uIGNyZWF0ZWQ6ICR7ZGF0YS50eXBlfSBmb3IgdXNlciAke2RhdGEudXNlcklkfWApXG4gICAgcmV0dXJuIG5vdGlmaWNhdGlvblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gY3JlYXRlIG5vdGlmaWNhdGlvbjonLCBlcnJvcilcbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIG11bHRpcGxlIG5vdGlmaWNhdGlvbnMgYXQgb25jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQnVsa05vdGlmaWNhdGlvbnMobm90aWZpY2F0aW9uczogTm90aWZpY2F0aW9uRGF0YVtdKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY3JlYXRlZE5vdGlmaWNhdGlvbnMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIG5vdGlmaWNhdGlvbnMubWFwKG5vdGlmaWNhdGlvbiA9PiBjcmVhdGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uKSlcbiAgICApXG4gICAgXG4gICAgY29uc29sZS5sb2coYPCflJQgQ3JlYXRlZCAke2NyZWF0ZWROb3RpZmljYXRpb25zLmxlbmd0aH0gbm90aWZpY2F0aW9uc2ApXG4gICAgcmV0dXJuIGNyZWF0ZWROb3RpZmljYXRpb25zXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBjcmVhdGUgYnVsayBub3RpZmljYXRpb25zOicsIGVycm9yKVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgbm90aWZpY2F0aW9ucyBmb3IgYSB1c2VyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyTm90aWZpY2F0aW9ucyh1c2VySWQ6IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDUwKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IGF3YWl0IGRiLm5vdGlmaWNhdGlvbi5maW5kTWFueSh7XG4gICAgICB3aGVyZTogeyB1c2VySWQgfSxcbiAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcbiAgICAgIHRha2U6IGxpbWl0LFxuICAgICAgaW5jbHVkZToge1xuICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgIG5hbWU6IHRydWUsXG4gICAgICAgICAgICBlbWFpbDogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gbm90aWZpY2F0aW9uc1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZ2V0IHVzZXIgbm90aWZpY2F0aW9uczonLCBlcnJvcilcbiAgICB0aHJvdyBlcnJvclxuICB9XG59XG5cbi8qKlxuICogTWFyayBub3RpZmljYXRpb24gYXMgcmVhZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFya05vdGlmaWNhdGlvbkFzUmVhZChub3RpZmljYXRpb25JZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xuICB0cnkge1xuICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IGRiLm5vdGlmaWNhdGlvbi51cGRhdGVNYW55KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlkOiBub3RpZmljYXRpb25JZCxcbiAgICAgICAgdXNlcklkOiB1c2VySWRcbiAgICAgIH0sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGlzUmVhZDogdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gbm90aWZpY2F0aW9uXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBtYXJrIG5vdGlmaWNhdGlvbiBhcyByZWFkOicsIGVycm9yKVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuLyoqXG4gKiBNYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQgZm9yIGEgdXNlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFya0FsbE5vdGlmaWNhdGlvbnNBc1JlYWQodXNlcklkOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5ub3RpZmljYXRpb24udXBkYXRlTWFueSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICB1c2VySWQ6IHVzZXJJZCxcbiAgICAgICAgaXNSZWFkOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaXNSZWFkOiB0cnVlXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKGDwn5SUIE1hcmtlZCAke3Jlc3VsdC5jb3VudH0gbm90aWZpY2F0aW9ucyBhcyByZWFkIGZvciB1c2VyICR7dXNlcklkfWApXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gbWFyayBhbGwgbm90aWZpY2F0aW9ucyBhcyByZWFkOicsIGVycm9yKVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgdW5yZWFkIG5vdGlmaWNhdGlvbiBjb3VudCBmb3IgYSB1c2VyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVbnJlYWROb3RpZmljYXRpb25Db3VudCh1c2VySWQ6IHN0cmluZykge1xuICB0cnkge1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgZGIubm90aWZpY2F0aW9uLmNvdW50KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICBpc1JlYWQ6IGZhbHNlXG4gICAgICB9XG4gICAgfSlcblxuICAgIHJldHVybiBjb3VudFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZ2V0IHVucmVhZCBub3RpZmljYXRpb24gY291bnQ6JywgZXJyb3IpXG4gICAgcmV0dXJuIDBcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZSBvbGQgbm90aWZpY2F0aW9ucyAoY2xlYW51cClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFudXBPbGROb3RpZmljYXRpb25zKGRheXNPbGQ6IG51bWJlciA9IDMwKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgY3V0b2ZmRGF0ZSA9IG5ldyBEYXRlKClcbiAgICBjdXRvZmZEYXRlLnNldERhdGUoY3V0b2ZmRGF0ZS5nZXREYXRlKCkgLSBkYXlzT2xkKVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIubm90aWZpY2F0aW9uLmRlbGV0ZU1hbnkoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgY3JlYXRlZEF0OiB7XG4gICAgICAgICAgbHQ6IGN1dG9mZkRhdGVcbiAgICAgICAgfSxcbiAgICAgICAgaXNSZWFkOiB0cnVlXG4gICAgICB9XG4gICAgfSlcblxuICAgIGNvbnNvbGUubG9nKGDwn6e5IENsZWFuZWQgdXAgJHtyZXN1bHQuY291bnR9IG9sZCBub3RpZmljYXRpb25zYClcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBjbGVhbnVwIG9sZCBub3RpZmljYXRpb25zOicsIGVycm9yKVxuICAgIHRocm93IGVycm9yXG4gIH1cbn1cblxuLyoqXG4gKiBOb3RpZmljYXRpb24gdGVtcGxhdGVzIGZvciBkaWZmZXJlbnQgYWN0aW9uc1xuICovXG5leHBvcnQgY29uc3QgTm90aWZpY2F0aW9uVGVtcGxhdGVzID0ge1xuICBCT09LSU5HX0NSRUFURUQ6IChib29raW5nOiBhbnkpID0+ICh7XG4gICAgdHlwZTogJ0JPT0tJTkdfQ1JFQVRFRCcgYXMgTm90aWZpY2F0aW9uVHlwZSxcbiAgICB0aXRsZTogJ05ldyBCb29raW5nIFJlcXVlc3QnLFxuICAgIGNvbnRlbnQ6IGBZb3UgaGF2ZSBhIG5ldyBib29raW5nIHJlcXVlc3QgZm9yICR7Ym9va2luZy5zZXJ2aWNlPy5uYW1lIHx8ICdzZXJ2aWNlJ30gZnJvbSAke2Jvb2tpbmcuY2xpZW50Py5uYW1lIHx8ICdhIGNsaWVudCd9LiBQbGVhc2UgcmV2aWV3IGFuZCByZXNwb25kLmBcbiAgfSksXG5cbiAgQk9PS0lOR19BQ0NFUFRFRDogKGJvb2tpbmc6IGFueSkgPT4gKHtcbiAgICB0eXBlOiAnQk9PS0lOR19BQ0NFUFRFRCcgYXMgTm90aWZpY2F0aW9uVHlwZSxcbiAgICB0aXRsZTogJ0Jvb2tpbmcgQWNjZXB0ZWQhJyxcbiAgICBjb250ZW50OiBgR3JlYXQgbmV3cyEgWW91ciBib29raW5nIGZvciAke2Jvb2tpbmcuc2VydmljZT8ubmFtZSB8fCAnc2VydmljZSd9IGhhcyBiZWVuIGFjY2VwdGVkIGJ5ICR7Ym9va2luZy5wcm92aWRlcj8uYnVzaW5lc3NOYW1lIHx8ICd0aGUgcHJvdmlkZXInfS4gWW91IGNhbiBub3cgcHJvY2VlZCB3aXRoIHBheW1lbnQuYFxuICB9KSxcblxuICBCT09LSU5HX0RFQ0xJTkVEOiAoYm9va2luZzogYW55KSA9PiAoe1xuICAgIHR5cGU6ICdCT09LSU5HX0RFQ0xJTkVEJyBhcyBOb3RpZmljYXRpb25UeXBlLFxuICAgIHRpdGxlOiAnQm9va2luZyBEZWNsaW5lZCcsXG4gICAgY29udGVudDogYFVuZm9ydHVuYXRlbHksIHlvdXIgYm9va2luZyBmb3IgJHtib29raW5nLnNlcnZpY2U/Lm5hbWUgfHwgJ3NlcnZpY2UnfSB3YXMgZGVjbGluZWQuIERvbid0IHdvcnJ5LCB5b3UgY2FuIHRyeSBib29raW5nIHdpdGggYW5vdGhlciBwcm92aWRlci5gXG4gIH0pLFxuXG4gIEJPT0tJTkdfQ0FOQ0VMTEVEOiAoYm9va2luZzogYW55LCBjYW5jZWxsZWRCeTogJ2NsaWVudCcgfCAncHJvdmlkZXInKSA9PiAoe1xuICAgIHR5cGU6ICdCT09LSU5HX0NBTkNFTExFRCcgYXMgTm90aWZpY2F0aW9uVHlwZSxcbiAgICB0aXRsZTogJ0Jvb2tpbmcgQ2FuY2VsbGVkJyxcbiAgICBjb250ZW50OiBgWW91ciBib29raW5nIGZvciAke2Jvb2tpbmcuc2VydmljZT8ubmFtZSB8fCAnc2VydmljZSd9IGhhcyBiZWVuIGNhbmNlbGxlZCBieSAke2NhbmNlbGxlZEJ5ID09PSAnY2xpZW50JyA/ICd0aGUgY2xpZW50JyA6ICd0aGUgcHJvdmlkZXInfS5gXG4gIH0pLFxuXG4gIFBBWU1FTlRfUkVDRUlWRUQ6IChib29raW5nOiBhbnkpID0+ICh7XG4gICAgdHlwZTogJ1BBWU1FTlRfUkVDRUlWRUQnIGFzIE5vdGlmaWNhdGlvblR5cGUsXG4gICAgdGl0bGU6ICdQYXltZW50IFJlY2VpdmVkJyxcbiAgICBjb250ZW50OiBgUGF5bWVudCByZWNlaXZlZCBmb3IgJHtib29raW5nLnNlcnZpY2U/Lm5hbWUgfHwgJ3lvdXIgc2VydmljZSd9IC0gQm9va2luZyAjJHtib29raW5nLmlkfS4gWW91IGNhbiBub3cgc3RhcnQgdGhlIGpvYiFgXG4gIH0pLFxuXG4gIFBBWU1FTlRfRkFJTEVEOiAoYm9va2luZzogYW55KSA9PiAoe1xuICAgIHR5cGU6ICdQQVlNRU5UX0ZBSUxFRCcgYXMgTm90aWZpY2F0aW9uVHlwZSxcbiAgICB0aXRsZTogJ1BheW1lbnQgRmFpbGVkJyxcbiAgICBjb250ZW50OiBgUGF5bWVudCBmYWlsZWQgZm9yICR7Ym9va2luZy5zZXJ2aWNlPy5uYW1lIHx8ICdzZXJ2aWNlJ30gLSBCb29raW5nICMke2Jvb2tpbmcuaWR9LiBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3Qgc3VwcG9ydC5gXG4gIH0pLFxuXG4gIEpPQl9TVEFSVEVEOiAoYm9va2luZzogYW55KSA9PiAoe1xuICAgIHR5cGU6ICdKT0JfU1RBUlRFRCcgYXMgTm90aWZpY2F0aW9uVHlwZSxcbiAgICB0aXRsZTogJ0pvYiBTdGFydGVkJyxcbiAgICBjb250ZW50OiBgR3JlYXQgbmV3cyEgJHtib29raW5nLnByb3ZpZGVyPy5idXNpbmVzc05hbWUgfHwgJ1RoZSBwcm92aWRlcid9IGhhcyBzdGFydGVkIHdvcmtpbmcgb24geW91ciAke2Jvb2tpbmcuc2VydmljZT8ubmFtZSB8fCAnc2VydmljZSd9LmBcbiAgfSksXG5cbiAgSk9CX0NPTVBMRVRFRDogKGJvb2tpbmc6IGFueSkgPT4gKHtcbiAgICB0eXBlOiAnSk9CX0NPTVBMRVRFRCcgYXMgTm90aWZpY2F0aW9uVHlwZSxcbiAgICB0aXRsZTogJ0pvYiBDb21wbGV0ZWQnLFxuICAgIGNvbnRlbnQ6IGBZb3VyICR7Ym9va2luZy5zZXJ2aWNlPy5uYW1lIHx8ICdzZXJ2aWNlJ30gaGFzIGJlZW4gY29tcGxldGVkISBQbGVhc2UgcmV2aWV3IHRoZSB3b3JrIGFuZCBjb25maXJtIGNvbXBsZXRpb24gdG8gcmVsZWFzZSBwYXltZW50LmBcbiAgfSksXG5cbiAgRElTUFVURV9DUkVBVEVEOiAoYm9va2luZzogYW55LCBkaXNwdXRlVHlwZTogc3RyaW5nKSA9PiAoe1xuICAgIHR5cGU6ICdESVNQVVRFX0NSRUFURUQnIGFzIE5vdGlmaWNhdGlvblR5cGUsXG4gICAgdGl0bGU6ICdEaXNwdXRlIENyZWF0ZWQnLFxuICAgIGNvbnRlbnQ6IGBBIGRpc3B1dGUgaGFzIGJlZW4gY3JlYXRlZCBmb3IgYm9va2luZyAjJHtib29raW5nLmlkfSByZWdhcmRpbmcgJHtkaXNwdXRlVHlwZX0uIE91ciB0ZWFtIHdpbGwgcmV2aWV3IGFuZCByZXNvbHZlIHRoaXMgaXNzdWUuYFxuICB9KSxcblxuICBESVNQVVRFX1JFU09MVkVEOiAoYm9va2luZzogYW55LCByZXNvbHV0aW9uOiBzdHJpbmcpID0+ICh7XG4gICAgdHlwZTogJ0RJU1BVVEVfUkVTT0xWRUQnIGFzIE5vdGlmaWNhdGlvblR5cGUsXG4gICAgdGl0bGU6ICdEaXNwdXRlIFJlc29sdmVkJyxcbiAgICBjb250ZW50OiBgVGhlIGRpc3B1dGUgZm9yIGJvb2tpbmcgIyR7Ym9va2luZy5pZH0gaGFzIGJlZW4gcmVzb2x2ZWQ6ICR7cmVzb2x1dGlvbn1gXG4gIH0pLFxuXG4gIFJFVklFV19TVUJNSVRURUQ6IChib29raW5nOiBhbnksIHJhdGluZzogbnVtYmVyKSA9PiAoe1xuICAgIHR5cGU6ICdSRVZJRVdfU1VCTUlUVEVEJyBhcyBOb3RpZmljYXRpb25UeXBlLFxuICAgIHRpdGxlOiAnUmV2aWV3IFN1Ym1pdHRlZCcsXG4gICAgY29udGVudDogYEEgJHtyYXRpbmd9LXN0YXIgcmV2aWV3IGhhcyBiZWVuIHN1Ym1pdHRlZCBmb3IgeW91ciBzZXJ2aWNlIG9uIGJvb2tpbmcgIyR7Ym9va2luZy5pZH0uYFxuICB9KSxcblxuICBQQVlNRU5UX1JFTEVBU0VEOiAoYm9va2luZzogYW55LCBhbW91bnQ6IG51bWJlcikgPT4gKHtcbiAgICB0eXBlOiAnUEFZTUVOVF9SRUxFQVNFRCcgYXMgTm90aWZpY2F0aW9uVHlwZSxcbiAgICB0aXRsZTogJ1BheW1lbnQgUmVsZWFzZWQnLFxuICAgIGNvbnRlbnQ6IGBQYXltZW50IG9mIFIke2Ftb3VudC50b0ZpeGVkKDIpfSBoYXMgYmVlbiByZWxlYXNlZCBmb3IgYm9va2luZyAjJHtib29raW5nLmlkfS4gVGhlIGZ1bmRzIHNob3VsZCBhcHBlYXIgaW4geW91ciBhY2NvdW50IHdpdGhpbiAxLTMgYnVzaW5lc3MgZGF5cy5gXG4gIH0pLFxuXG4gIEVTQ1JPV19SRUxFQVNFRDogKGJvb2tpbmc6IGFueSwgYW1vdW50OiBudW1iZXIpID0+ICh7XG4gICAgdHlwZTogJ0VTQ1JPV19SRUxFQVNFRCcgYXMgTm90aWZpY2F0aW9uVHlwZSxcbiAgICB0aXRsZTogJ0VzY3JvdyBSZWxlYXNlZCcsXG4gICAgY29udGVudDogYEVzY3JvdyBwYXltZW50IG9mIFIke2Ftb3VudC50b0ZpeGVkKDIpfSBoYXMgYmVlbiByZWxlYXNlZCBmb3IgYm9va2luZyAjJHtib29raW5nLmlkfS5gXG4gIH0pLFxuXG4gIENBVEFMT0dVRV9TRVRVUF9SRVFVSVJFRDogKHByb3ZpZGVyOiBhbnksIHBhY2thZ2VDb3VudDogbnVtYmVyKSA9PiAoe1xuICAgIHR5cGU6ICdDQVRBTE9HVUVfU0VUVVBfUkVRVUlSRUQnIGFzIE5vdGlmaWNhdGlvblR5cGUsXG4gICAgdGl0bGU6ICfwn46JIFlvdXIgU2VydmljZSBQYWNrYWdlcyBBcmUgUmVhZHkhJyxcbiAgICBjb250ZW50OiBgV2UndmUgY3JlYXRlZCAke3BhY2thZ2VDb3VudH0gc3RhcnRlciBwYWNrYWdlcyBmb3IgeW91ciBzZXJ2aWNlcy4gQ3VzdG9taXplIHRoZW0gbm93IHRvIHN0YXJ0IHJlY2VpdmluZyBib29raW5ncyFgXG4gIH0pLFxuXG4gIENBVEFMT0dVRV9TRVRVUF9DT01QTEVURUQ6IChwcm92aWRlcjogYW55LCBjb21wbGV0aW9uVGltZTogc3RyaW5nKSA9PiAoe1xuICAgIHR5cGU6ICdDQVRBTE9HVUVfU0VUVVBfQ09NUExFVEVEJyBhcyBOb3RpZmljYXRpb25UeXBlLFxuICAgIHRpdGxlOiAn8J+OiSBTZXR1cCBDb21wbGV0ZSAtIFlvdVxcJ3JlIFJlYWR5IHRvIEVhcm4hJyxcbiAgICBjb250ZW50OiBgQ29uZ3JhdHVsYXRpb25zISBZb3UgY29tcGxldGVkIHlvdXIgc2VydmljZSBwYWNrYWdlcyBzZXR1cCBpbiAke2NvbXBsZXRpb25UaW1lfS4gWW91J3JlIG5vdyBsaXZlIGFuZCByZWFkeSB0byByZWNlaXZlIGJvb2tpbmdzIWBcbiAgfSksXG5cbiAgQ0FUQUxPR1VFX1NFVFVQX1JFTUlOREVSOiAocHJvdmlkZXI6IGFueSwgZGF5c1NpbmNlOiBudW1iZXIpID0+ICh7XG4gICAgdHlwZTogJ0NBVEFMT0dVRV9TRVRVUF9SRU1JTkRFUicgYXMgTm90aWZpY2F0aW9uVHlwZSxcbiAgICB0aXRsZTogJ/CfkqEgQ29tcGxldGUgWW91ciBTZXJ2aWNlIFBhY2thZ2VzJyxcbiAgICBjb250ZW50OiBgRG9uJ3QgbWlzcyBvdXQgb24gYm9va2luZ3MhIENvbXBsZXRlIHlvdXIgc2VydmljZSBwYWNrYWdlcyBzZXR1cCB0byBzdGFydCBlYXJuaW5nLiBJdCdzIGJlZW4gJHtkYXlzU2luY2V9IGRheXMgc2luY2UgeW91ciBwYWNrYWdlcyB3ZXJlIGNyZWF0ZWQuYFxuICB9KVxufVxuIl0sIm5hbWVzIjpbImRiIiwiY3JlYXRlTm90aWZpY2F0aW9uIiwiZGF0YSIsIm5vdGlmaWNhdGlvbiIsImNyZWF0ZSIsInVzZXJJZCIsInR5cGUiLCJ0aXRsZSIsIm1lc3NhZ2UiLCJjb250ZW50IiwiaXNSZWFkIiwiaW5jbHVkZSIsInVzZXIiLCJzZWxlY3QiLCJpZCIsIm5hbWUiLCJlbWFpbCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImNyZWF0ZUJ1bGtOb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9ucyIsImNyZWF0ZWROb3RpZmljYXRpb25zIiwiUHJvbWlzZSIsImFsbCIsIm1hcCIsImxlbmd0aCIsImdldFVzZXJOb3RpZmljYXRpb25zIiwibGltaXQiLCJmaW5kTWFueSIsIndoZXJlIiwib3JkZXJCeSIsImNyZWF0ZWRBdCIsInRha2UiLCJtYXJrTm90aWZpY2F0aW9uQXNSZWFkIiwibm90aWZpY2F0aW9uSWQiLCJ1cGRhdGVNYW55IiwibWFya0FsbE5vdGlmaWNhdGlvbnNBc1JlYWQiLCJyZXN1bHQiLCJjb3VudCIsImdldFVucmVhZE5vdGlmaWNhdGlvbkNvdW50IiwiY2xlYW51cE9sZE5vdGlmaWNhdGlvbnMiLCJkYXlzT2xkIiwiY3V0b2ZmRGF0ZSIsIkRhdGUiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImRlbGV0ZU1hbnkiLCJsdCIsIk5vdGlmaWNhdGlvblRlbXBsYXRlcyIsIkJPT0tJTkdfQ1JFQVRFRCIsImJvb2tpbmciLCJzZXJ2aWNlIiwiY2xpZW50IiwiQk9PS0lOR19BQ0NFUFRFRCIsInByb3ZpZGVyIiwiYnVzaW5lc3NOYW1lIiwiQk9PS0lOR19ERUNMSU5FRCIsIkJPT0tJTkdfQ0FOQ0VMTEVEIiwiY2FuY2VsbGVkQnkiLCJQQVlNRU5UX1JFQ0VJVkVEIiwiUEFZTUVOVF9GQUlMRUQiLCJKT0JfU1RBUlRFRCIsIkpPQl9DT01QTEVURUQiLCJESVNQVVRFX0NSRUFURUQiLCJkaXNwdXRlVHlwZSIsIkRJU1BVVEVfUkVTT0xWRUQiLCJyZXNvbHV0aW9uIiwiUkVWSUVXX1NVQk1JVFRFRCIsInJhdGluZyIsIlBBWU1FTlRfUkVMRUFTRUQiLCJhbW91bnQiLCJ0b0ZpeGVkIiwiRVNDUk9XX1JFTEVBU0VEIiwiQ0FUQUxPR1VFX1NFVFVQX1JFUVVJUkVEIiwicGFja2FnZUNvdW50IiwiQ0FUQUxPR1VFX1NFVFVQX0NPTVBMRVRFRCIsImNvbXBsZXRpb25UaW1lIiwiQ0FUQUxPR1VFX1NFVFVQX1JFTUlOREVSIiwiZGF5c1NpbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/notification-service.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MAX_RETRIES = 3;\nconst INITIAL_RETRY_DELAY = 200;\nconst MAX_RETRY_DELAY = 2000;\nfunction sleep(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\n// Enhanced database URL configuration\nfunction getDatabaseUrl() {\n    // Use environment variable for database URL\n    const databaseUrl = process.env.DATABASE_URL;\n    if (!databaseUrl) {\n        throw new Error(\"DATABASE_URL environment variable is required\");\n    }\n    console.log(\"\\uD83D\\uDD17 Database URL configured from environment variables\");\n    return databaseUrl;\n}\nclass PrismaWithRetry extends _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient {\n    constructor(){\n        super({\n            log:  true ? [\n                \"query\",\n                \"error\",\n                \"warn\"\n            ] : 0,\n            errorFormat: \"pretty\",\n            datasources: {\n                db: {\n                    url: getDatabaseUrl()\n                }\n            }\n        });\n        this.isConnected = false;\n    }\n    async handleConnectionError(error) {\n        if (error.message.includes(\"Connection pool timeout\")) {\n            console.error(\"Connection pool timeout detected. Attempting to reconnect...\");\n            await this.reconnect();\n            return true;\n        }\n        return false;\n    }\n    async reconnect() {\n        try {\n            await this.$disconnect();\n            this.isConnected = false;\n            await this.connect();\n        } catch (error) {\n            console.error(\"Failed to reconnect:\", error);\n            throw error;\n        }\n    }\n    async connect() {\n        if (this.isConnected) {\n            return;\n        }\n        let lastError;\n        let delay = INITIAL_RETRY_DELAY;\n        for(let attempt = 1; attempt <= MAX_RETRIES; attempt++){\n            try {\n                await super.$connect();\n                this.isConnected = true;\n                console.log(\"‚úÖ Database connection established successfully\");\n                // Test the connection\n                await this.$queryRaw`SELECT 1`;\n                return;\n            } catch (error) {\n                lastError = error;\n                console.error(`‚ùå Connection attempt ${attempt} failed:`, error);\n                if (attempt < MAX_RETRIES) {\n                    console.log(`Retrying in ${delay}ms...`);\n                    await sleep(delay);\n                    delay = Math.min(delay * 2, MAX_RETRY_DELAY);\n                }\n            }\n        }\n        throw new Error(`Failed to connect after ${MAX_RETRIES} attempts. Last error: ${lastError}`);\n    }\n    async disconnect() {\n        if (!this.isConnected) {\n            return;\n        }\n        try {\n            await super.$disconnect();\n            this.isConnected = false;\n            console.log(\"Database connection closed successfully\");\n        } catch (error) {\n            console.error(\"Error disconnecting from database:\", error);\n            throw error;\n        }\n    }\n    async query(operation) {\n        try {\n            return await operation();\n        } catch (error) {\n            if (await this.handleConnectionError(error)) {\n                return await operation();\n            }\n            throw error;\n        }\n    }\n    // Override key methods to use our query wrapper\n    async $queryRaw(query) {\n        return this.query(()=>super.$queryRaw(query));\n    }\n    async $executeRaw(query) {\n        return this.query(()=>super.$executeRaw(query));\n    }\n}\nconst prisma = global.prisma || new PrismaWithRetry();\nif (true) {\n    global.prisma = prisma;\n}\n// Export the instance as default and named export\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFDZCxJQUFJLE1BQU0sSUFBSSxDQUFDRCxxQkFBcUIsQ0FBQ0MsUUFBUTtnQkFDM0MsT0FBTyxNQUFNZTtZQUNmO1lBQ0EsTUFBTWY7UUFDUjtJQUNGO0lBRUEsZ0RBQWdEO0lBQ2hELE1BQU1VLFVBQXVCSSxLQUF3QyxFQUFjO1FBQ2pGLE9BQU8sSUFBSSxDQUFDQSxLQUFLLENBQUMsSUFBTSxLQUFLLENBQUNKLFVBQWFJO0lBQzdDO0lBRUEsTUFBTUUsWUFBeUJGLEtBQXdDLEVBQWM7UUFDbkYsT0FBTyxJQUFJLENBQUNBLEtBQUssQ0FBQyxJQUFNLEtBQUssQ0FBQ0UsWUFBZUY7SUFDL0M7QUFDRjtBQU9PLE1BQU1HLFNBQVNDLE9BQU9ELE1BQU0sSUFBSSxJQUFJekIsa0JBQWtCO0FBRTdELElBQUlOLElBQXlCLEVBQWM7SUFDekNnQyxPQUFPRCxNQUFNLEdBQUdBO0FBQ2xCO0FBRUEsa0RBQWtEO0FBQ2xELGlFQUFlQSxNQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2xpYi9wcmlzbWEudHM/OTgyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XG5cbmNvbnN0IE1BWF9SRVRSSUVTID0gMztcbmNvbnN0IElOSVRJQUxfUkVUUllfREVMQVkgPSAyMDA7XG5jb25zdCBNQVhfUkVUUllfREVMQVkgPSAyMDAwO1xuXG5mdW5jdGlvbiBzbGVlcChtczogbnVtYmVyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbn1cblxuLy8gRW5oYW5jZWQgZGF0YWJhc2UgVVJMIGNvbmZpZ3VyYXRpb25cbmZ1bmN0aW9uIGdldERhdGFiYXNlVXJsKCkge1xuICAvLyBVc2UgZW52aXJvbm1lbnQgdmFyaWFibGUgZm9yIGRhdGFiYXNlIFVSTFxuICBjb25zdCBkYXRhYmFzZVVybCA9IHByb2Nlc3MuZW52LkRBVEFCQVNFX1VSTDtcbiAgXG4gIGlmICghZGF0YWJhc2VVcmwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0RBVEFCQVNFX1VSTCBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyByZXF1aXJlZCcpO1xuICB9XG4gIFxuICBjb25zb2xlLmxvZygn8J+UlyBEYXRhYmFzZSBVUkwgY29uZmlndXJlZCBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlcycpO1xuICByZXR1cm4gZGF0YWJhc2VVcmw7XG59XG5cbmNsYXNzIFByaXNtYVdpdGhSZXRyeSBleHRlbmRzIFByaXNtYUNsaWVudCB7XG4gIHByaXZhdGUgaXNDb25uZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICBsb2c6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gWydxdWVyeScsICdlcnJvcicsICd3YXJuJ10gOiBbJ2Vycm9yJ10sXG4gICAgICBlcnJvckZvcm1hdDogJ3ByZXR0eScsXG4gICAgICBkYXRhc291cmNlczoge1xuICAgICAgICBkYjoge1xuICAgICAgICAgIHVybDogZ2V0RGF0YWJhc2VVcmwoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGhhbmRsZUNvbm5lY3Rpb25FcnJvcihlcnJvcjogYW55KSB7XG4gICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0Nvbm5lY3Rpb24gcG9vbCB0aW1lb3V0JykpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Nvbm5lY3Rpb24gcG9vbCB0aW1lb3V0IGRldGVjdGVkLiBBdHRlbXB0aW5nIHRvIHJlY29ubmVjdC4uLicpO1xuICAgICAgYXdhaXQgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlY29ubmVjdCgpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy4kZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgYXdhaXQgdGhpcy5jb25uZWN0KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZWNvbm5lY3Q6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBsYXN0RXJyb3I7XG4gICAgbGV0IGRlbGF5ID0gSU5JVElBTF9SRVRSWV9ERUxBWTtcblxuICAgIGZvciAobGV0IGF0dGVtcHQgPSAxOyBhdHRlbXB0IDw9IE1BWF9SRVRSSUVTOyBhdHRlbXB0KyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHN1cGVyLiRjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIERhdGFiYXNlIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIFxuICAgICAgICAvLyBUZXN0IHRoZSBjb25uZWN0aW9uXG4gICAgICAgIGF3YWl0IHRoaXMuJHF1ZXJ5UmF3YFNFTEVDVCAxYDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbGFzdEVycm9yID0gZXJyb3I7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBDb25uZWN0aW9uIGF0dGVtcHQgJHthdHRlbXB0fSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGF0dGVtcHQgPCBNQVhfUkVUUklFUykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXRyeWluZyBpbiAke2RlbGF5fW1zLi4uYCk7XG4gICAgICAgICAgYXdhaXQgc2xlZXAoZGVsYXkpO1xuICAgICAgICAgIGRlbGF5ID0gTWF0aC5taW4oZGVsYXkgKiAyLCBNQVhfUkVUUllfREVMQVkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY29ubmVjdCBhZnRlciAke01BWF9SRVRSSUVTfSBhdHRlbXB0cy4gTGFzdCBlcnJvcjogJHtsYXN0RXJyb3J9YCk7XG4gIH1cblxuICBhc3luYyBkaXNjb25uZWN0KCkge1xuICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzdXBlci4kZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgICAgY29uc29sZS5sb2coJ0RhdGFiYXNlIGNvbm5lY3Rpb24gY2xvc2VkIHN1Y2Nlc3NmdWxseScpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkaXNjb25uZWN0aW5nIGZyb20gZGF0YWJhc2U6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcXVlcnk8VD4ob3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+KTogUHJvbWlzZTxUPiB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBvcGVyYXRpb24oKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGF3YWl0IHRoaXMuaGFuZGxlQ29ubmVjdGlvbkVycm9yKGVycm9yKSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgb3BlcmF0aW9uKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBPdmVycmlkZSBrZXkgbWV0aG9kcyB0byB1c2Ugb3VyIHF1ZXJ5IHdyYXBwZXJcbiAgYXN5bmMgJHF1ZXJ5UmF3PFQgPSB1bmtub3duPihxdWVyeTogVGVtcGxhdGVTdHJpbmdzQXJyYXkgfCBQcmlzbWEuU3FsKTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIHRoaXMucXVlcnkoKCkgPT4gc3VwZXIuJHF1ZXJ5UmF3PFQ+KHF1ZXJ5KSk7XG4gIH1cblxuICBhc3luYyAkZXhlY3V0ZVJhdzxUID0gdW5rbm93bj4ocXVlcnk6IFRlbXBsYXRlU3RyaW5nc0FycmF5IHwgUHJpc21hLlNxbCk6IFByb21pc2U8VD4ge1xuICAgIHJldHVybiB0aGlzLnF1ZXJ5KCgpID0+IHN1cGVyLiRleGVjdXRlUmF3PFQ+KHF1ZXJ5KSk7XG4gIH1cbn1cblxuLy8gQ3JlYXRlIGEgc2luZ2xldG9uIGluc3RhbmNlXG5kZWNsYXJlIGdsb2JhbCB7XG4gIHZhciBwcmlzbWE6IFByaXNtYVdpdGhSZXRyeSB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbC5wcmlzbWEgfHwgbmV3IFByaXNtYVdpdGhSZXRyeSgpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBnbG9iYWwucHJpc21hID0gcHJpc21hO1xufVxuXG4vLyBFeHBvcnQgdGhlIGluc3RhbmNlIGFzIGRlZmF1bHQgYW5kIG5hbWVkIGV4cG9ydFxuZXhwb3J0IGRlZmF1bHQgcHJpc21hOyJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJNQVhfUkVUUklFUyIsIklOSVRJQUxfUkVUUllfREVMQVkiLCJNQVhfUkVUUllfREVMQVkiLCJzbGVlcCIsIm1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZ2V0RGF0YWJhc2VVcmwiLCJkYXRhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJFcnJvciIsImNvbnNvbGUiLCJsb2ciLCJQcmlzbWFXaXRoUmV0cnkiLCJjb25zdHJ1Y3RvciIsImVycm9yRm9ybWF0IiwiZGF0YXNvdXJjZXMiLCJkYiIsInVybCIsImlzQ29ubmVjdGVkIiwiaGFuZGxlQ29ubmVjdGlvbkVycm9yIiwiZXJyb3IiLCJtZXNzYWdlIiwiaW5jbHVkZXMiLCJyZWNvbm5lY3QiLCIkZGlzY29ubmVjdCIsImNvbm5lY3QiLCJsYXN0RXJyb3IiLCJkZWxheSIsImF0dGVtcHQiLCIkY29ubmVjdCIsIiRxdWVyeVJhdyIsIk1hdGgiLCJtaW4iLCJkaXNjb25uZWN0IiwicXVlcnkiLCJvcGVyYXRpb24iLCIkZXhlY3V0ZVJhdyIsInByaXNtYSIsImdsb2JhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.32_@babel+core@7._f37a6f559989085e15f473fa19285327","vendor-chunks/bcryptjs@2.4.3","vendor-chunks/jose@5.10.0"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.2.32_@babel+core@7._f37a6f559989085e15f473fa19285327/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprovider%2Fsetup-progress%2Froute&page=%2Fapi%2Fprovider%2Fsetup-progress%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprovider%2Fsetup-progress%2Froute.ts&appDir=C%3A%5CUsers%5Cliqui%5COneDrive%5CDesktop%5CLeenk%5CConnectSA-k9%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cliqui%5COneDrive%5CDesktop%5CLeenk%5CConnectSA-k9&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();